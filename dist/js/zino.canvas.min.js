!function(t,r){"use strict";var e=t.document;function n(t){if(!(this instanceof n))return new n(t);this.target=t.target,this.width=t.width,this.height=t.height,this.canvas=null,this.context=null,this.rad=Math.PI/180,this._init.call(this)}n.copyPixLCD=function(t,e,n){for(var i,r,s,o=t.getContext("2d"),a=t.width,t=t.height,h=o.getImageData(0,0,a,t),o=e.getContext("2d"),c=e.width,u=e.height,f=o.getImageData(0,0,c,u),l=.5*(1-n),x=n+l,d=l+l+n,g=0;g<u;g++)for(s=1;s<c-1;s++)i=4*(g*a+3*s),f.data[0+(r=4*(g*c+s))]=Math.round(n*h.data[0+i]+l*(h.data[i-4]+h.data[4+i])),f.data[1+r]=Math.round(n*h.data[5+i]+l*(h.data[1+i]+h.data[9+i])),f.data[2+r]=Math.round(n*h.data[10+i]+l*(h.data[6+i]+h.data[14+i])),f.data[3+r]=Math.round(.3333*(d*h.data[7+i]+x*(h.data[3+i]+h.data[11+i])+l*(h.data[i-1]+h.data[15+i])));o.putImageData(f,0,0)},n.prototype={_init:function(){return this.canvas=e.createElement("canvas"),this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this.context=this.canvas.getContext("2d"),this.target.appendChild(this.canvas),this},arc:function(t,e,n,i,r){return 5===arguments.length?this.context.arc(t,e,n,i,r):this.context.arc(t,e,n,i,r,arguments[5]),this},arcTo:function(t,e,n,i,r){return 5===arguments.length?this.context.arcTo(t,e,n,i,r):this.context.arcTo(t,e,n,i,r,arguments[5],arguments[6]),this},attr:function(t){if(2===arguments.length)this.context[t]=arguments[1];else for(var e in t)t.hasOwnProperty(e)&&(this.context[e]=t[e]);return this},begin:function(){return this.context.beginPath(),this},bezierCurveTo:function(t,e,n,i,r,s){return this.context.bezierCurveTo(t,e,n,i,r,s),this},circle:function(t,e,n){return this.arc(t,e,n,0,360*this.rad,!1)},clear:function(){return this.context.clearRect(0,0,this.width,this.height),this},bind:function(t,e){var n=this;return this.canvas.addEventListener(t,function(t){return e.call(n,t,this)}),this},clip:function(){return this.context.clip(),this},close:function(){return this.context.closePath(),this},commit:function(){return this.context.commit(),this},ellipse:function(t,e,n,i){var n=2*n,i=2*i,r=n/2*.5522848,s=i/2*.5522848,o=t+n,a=e+i,n=t+n/2,i=e+i/2;return this.moveTo(t,i).bezierCurveTo(t,i-s,n-r,e,n,e).bezierCurveTo(n+r,e,o,i-s,o,i).bezierCurveTo(o,i+s,n+r,a,n,a).bezierCurveTo(n-r,a,t,i+s,t,i),this},fill:function(){return this.context.fill(),this},fillRect:function(t,e,n,i){return this.context.fillRect(t,e,n,i),this},getContext:function(){return this.context},image:function(t,e,n){var i=this,r=arguments,s=new Image;return s.onload=function(){switch(r.length){case 3:i.context.drawImage(s,e,n);break;case 5:i.context.drawImage(s,e,n,r[3],r[4]);break;case 9:i.context.drawImage(s,e,n,r[3],r[4],r[5],r[6],r[7],r[8])}},s.src=t,this},line:function(t,e,n,i){return this.begin().moveTo(t,e).lineTo(n,i).stroke(),this},linearGradient:function(t,e,n,i){return this.context.createLinearGradient(t,e,n,i)},lineTo:function(t,e){return this.context.lineTo(t,e),this},measureText:function(t){return this.context.measureText(t)},moveTo:function(t,e){return this.context.moveTo(t,e),this},path:function(t){for(var e,n=[],i=t.split(/M|L|Z/),r=0,s=i.length;r<s;r++)0<i[r].length&&""!==i[r]&&n.push(i[r]);for(this.begin().moveTo(n[0].split(",")[0],n[0].split(",")[1]),r=0,s=n.length;r<s;r++)0<r&&0,e=n[r].split(","),0<r&&this.lineTo(e[0],e[1]);return this.fill().stroke(),this},pattern:function(t,e,n){var i=this,r=new Image;return r.onload=function(){var t=i.context.createPattern(r,e);"function"==typeof n&&n.call(null,t)},r.src=t,this},quadraticCurveTo:function(t,e,n,i){return this.context.quadraticCurveTo(t,e,n,i),this},radialGradient:function(t,e,n,i,r,s){return this.context.createRadialGradient(t,e,n,i,r,s)},rect:function(t,e,n,i){return this.context.rect(t,e,n,i),this},resetClip:function(){return this.context.resetClip(),this},resetTransform:function(){return this.context.resetTransform(),this},restore:function(){return this.context.restore(),this},rose:function(t,e,n,i,r,s,o,a,h,c){t=["M",t,",",e," A",n,",",n," ",0," ",0,",",1,," ",i,",",r," L",s,",",o," A",a,",",a,," ",0," ",0,",",0," ",h,",",c," Z"].join("");return this.path(t)},rotate:function(t){return this.context.rotate(t),this},save:function(){return this.context.save(),this},scale:function(t,e){return this.context.scale(t,e),this},sector:function(t,e,n,i,r){return this.save().begin().moveTo(t,e).arc(t,e,n,(i*this.rad).toFixed(2),(r*this.rad).toFixed(2)).lineTo(t,e).close().fill().stroke().restore(),this},setLineDash:function(t){return this.context.setLineDash&&this.context.setLineDash(t),this},setTransform:function(t,e,n,i,r,s){return this.context.setTransform(t,e,n,i,r,s),this},stroke:function(){return this.context.stroke(),this},strokeRect:function(t,e,n,i){return this.context.strokeRect(t,e,n,i),this},text:function(t,e,n){var i="fill";return this.context.strokeStyle!==r&&(i="stroke"),4===arguments.length&&arguments[3]!==r?(this.context.fillText(t,e,n,arguments[3]),"stroke"==i&&this.context.strokeText(t,e,n,arguments[3])):(this.context.fillText(t,e,n),"stroke"==i&&this.context.strokeText(t,e,n)),this},transform:function(t,e,n,i,r,s){return this.context.transform(t,e,n,i,r,s),this},translate:function(t,e){return this.context.translate(t,e),this}},t.zino=t.zino||{},t.zino.Canvas=n}(window);