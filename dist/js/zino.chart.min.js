/*!
 * zino-ui v1.5 (https://zinoui.com)
 * Copyright 2012-2022 Dimitar Ivanov. All Rights Reserved.
 *
 * Zino UI commercial licenses may be obtained at https://zinoui.com/license
 * For GPL requirements, please review: http://www.gnu.org/copyleft/gpl.html
 */
/*
 zino-ui v1.5 (https://github.com/riverside/zino-ui)
 Copyright 2012-2022 Dimitar Ivanov. All Rights Reserved.

 Zino UI commercial licenses may be obtained at http://zinoui.com/license
 If you do not own a commercial license, this file shall be governed by the
 GNU General Public License (GPL) version 3.
 For GPL requirements, please review: http://www.gnu.org/copyleft/gpl.html
*/
(function(t,A){function x(b,a,f,e){e=e*Math.PI/180;return[b+f*Math.cos(e),a+f*Math.sin(e)]}function w(){this._defaults={plugin:"svg",type:"line",variation:null,points:!1,stacking:!1,progression:"forward",legend:!0,tooltip:{color:"#fff",fill:"#000",radius:"2px",opacity:1,offset:{x:15,y:15},pattern:"%label, %value (%percent)"},series:[],lineRowColor:"#ccc",axisColor:"#444",textColor:"#444",fontSize:"12px",fontFamily:"Arial",radius:75,innerRadius:50,width:530,height:320};this.points=[];this.over=!1;
this.tooltip={}}w.getWebsafeColors=function(){var b,a,f,e=[],c="00 33 66 99 CC FF".split(" ");for(b=0;6>b;b++)for(a=0;6>a;a++)for(f=0;6>f;f++)e.push(["#",c[b],c[a],c[f]].join(""));return e};w.colorLuminance=function(b,a){b=String(b).replace(/[^0-9a-f]/gi,"");6>b.length&&(b=b[0]+b[0]+b[1]+b[1]+b[2]+b[2]);a=a||0;var f="#",e;for(e=0;3>e;e++){var c=parseInt(b.substr(2*e,2),16);c=Math.round(Math.min(Math.max(0,c+c*a),255)).toString(16);f+=("00"+c).substr(c.length)}return f};w.getColors=function(b){var a=
"#3366CC #DC3912 #067A06 #FFCC00 #663300 #660066 #3399CC #CC6600 #CC3399 #CC6666 #339900 #CC99FF #CC3300 #99FF66 #993366 #16448A".split(" ");return b!==A&&a[b]!==A?a[b]:a};w.hexToRgb=function(b){b=b.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,b,e,c){return b+b+e+e+c+c});return(b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(b))?{r:parseInt(b[1],16),g:parseInt(b[2],16),b:parseInt(b[3],16)}:null};w.prototype={_attachChart:function(b,a){if(this._getInst(b))return!1;var f=t(b),e=this._newInst(f);
this.tooltip[e.uid]={};t.extend(e.settings,this._defaults,a);if(-1===t.inArray(e.settings.plugin,["svg","canvas"]))throw Error("Ivalid value of 'plugin'. Supported values are: 'svg' and 'canvas'.");f.addClass("zui-chart zui-chart-"+e.settings.type);e.settings.paddingTop=Math.floor(10*e.settings.height/100);e.settings.paddingBottom=Math.floor(10*e.settings.height/100);e.settings.paddingLeft=Math.floor(10*e.settings.width/100);e.settings.paddingRight=e.settings.legend?Math.floor(20*e.settings.width/
100):0;"pie"===e.settings.type&&"multi-level"===e.settings.variation&&e.settings.legend&&-1!==t.inArray(e.settings.legend,[!0,1,2])&&(e.settings.paddingRight=0);e.settings.canvasWidth=e.settings.width-e.settings.paddingLeft-(-1===t.inArray(e.settings.type,["ohlc","candlestick","spline","scatter","bubble"])?e.settings.paddingRight:0);e.settings.canvasHeight=e.settings.height-e.settings.paddingTop-e.settings.paddingBottom;switch(e.settings.type){case "line":case "area":case "bar":case "column":case "stepline":case "spline":case "bubble":case "scatter":e.settings.blockNum=
e.settings.series[0].data.length;break;default:e.settings.blockNum=e.settings.series.length-(-1===t.inArray(e.settings.type,["ohlc","candlestick"])?1:0)}e.settings.blockWidth=e.settings.canvasWidth/e.settings.blockNum;e.settings.blockHeight=e.settings.canvasHeight/e.settings.blockNum;switch(e.settings.plugin){case "canvas":e.handle=zino.Canvas({target:b,width:e.settings.width,height:e.settings.height});break;case "svg":e.handle=zino.Svg({target:b,width:e.settings.width,height:e.settings.height}),
e.handle.desc("Created with Zino UI "+t.zinoChart.version),f=e.handle.clipPath("zinoui-"+e.uid).getShape(),e.handle.rect(e.settings.paddingLeft,e.settings.paddingTop,0,0,e.settings.canvasWidth,e.settings.canvasHeight,!1).attr({fill:"none"}).appendTo(f)}t.data(b,"chart",e);this.draw.call(this,b)},draw:function(b){var a=this._getInst(b);if(!a)return!1;switch(a.settings.plugin){case "canvas":a.handle.attr({fillStyle:"#FFFFFF"}).begin().rect(0,0,a.settings.width,a.settings.height).fill();break;case "svg":a.handle.rect(0,
0,0,0,a.settings.width,a.settings.height).attr({fill:"#FFFFFF",stroke:"none","stroke-width":0}).insert()}switch(a.settings.type){case "pie":this.pie.call(this,b);break;case "donut":this.donut.call(this,b);break;case "bar":this.bar.call(this,b);break;case "column":this.column.call(this,b);break;case "stepline":this.stepline.call(this,b);break;case "line":this.line.call(this,b);break;case "area":this.area.call(this,b);break;case "polar":this.polar.call(this,b);break;case "radar":this.radar.call(this,
b);break;case "rose":this.rose.call(this,b);break;case "candlestick":this.candlestick.call(this,b);break;case "ohlc":this.ohlc.call(this,b);break;case "spline":this.spline.call(this,b);break;case "scatter":this.scatter.call(this,b);break;case "bubble":this.bubble.call(this,b);break;case "gauge":this.gauge.call(this,b)}},_hideLabelsChart:function(b){if(!this._getInst(b))return!1;t(b).find(".zui-chart-labels").remove()},_showLabelsChart:function(b){b=this._getInst(b);if(!b)return!1;var a,f,e=0,c=0,
k=Math.floor((b.settings.width-b.settings.paddingRight)/2),m=Math.floor(b.settings.height/2);"svg"===b.settings.plugin&&(f=b.handle.g().attr({"class":"zui-chart-labels"}).getShape());var h=0;for(a=b.settings.series.length;h<a;h++)c+=b.settings.series[h].value;h=0;for(a=b.settings.series.length;h<a;h++){var d=b.settings.series[h].value/c*360+e;switch(b.settings.plugin){case "canvas":b.handle.attr({font:b.settings.fontSize+" "+b.settings.fontFamily,textAlign:"center",textBaseline:"middle",fillStyle:b.settings.textColor}).text(b.settings.series[h].value,
k+(b.settings.radius+20)*Math.cos(-(e+d)/2*Math.PI/180),m+(b.settings.radius+20)*Math.sin(-(e+d)/2*Math.PI/180));break;case "svg":b.handle.text(k+(b.settings.radius+20)*Math.cos(-(e+d)/2*Math.PI/180),m+(b.settings.radius+20)*Math.sin(-(e+d)/2*Math.PI/180),b.settings.series[h].value,!1).attr({fill:b.settings.textColor,"font-family":b.settings.fontFamily,"font-size":b.settings.fontSize,"text-anchor":"middle"}).appendTo(f)}e=d}},_hideLegendChart:function(b){if(!this._getInst(b))return!1;t(b).find(".zui-chart-legend").remove()},
_showLegendChart:function(b){b=this._getInst(b);if(!b)return!1;var a,f,e=w.getColors();"svg"===b.settings.plugin&&(f=b.handle.g().attr({"class":"zui-chart-legend"}).getShape());switch(b.settings.type){case "stepline":var c=b.settings.series[0].length;var k=1;break;case "pie":case "donut":case "line":case "area":case "bar":case "column":case "polar":case "radar":case "rose":c=b.settings.series.length,k=2}for(a=0;a<c;a++)switch(b.settings.plugin){case "canvas":b.handle.attr({fillStyle:b.settings.series[a].color||
e[a]}).fillRect(b.settings.width-b.settings.paddingRight+10,b.settings.paddingTop+15*a,12,12);b.handle.attr({font:b.settings.fontSize+" "+b.settings.fontFamily,textAlign:"left",textBaseline:"top",fillStyle:b.settings.textColor,strokeStyle:"transparent"}).text(1===k?b.settings.series[0][a]:b.settings.series[a].label,b.settings.width-b.settings.paddingRight+25,b.settings.paddingTop+15*a);break;default:b.handle.rect(b.settings.width-b.settings.paddingRight+10,b.settings.paddingTop+15*a,0,0,12,12,!1).attr({fill:b.settings.series[a].color||
e[a],stroke:"none","stroke-width":0}).appendTo(f);var m=b.handle.factory("text",!1).attr({x:b.settings.width-b.settings.paddingRight+25,y:b.settings.paddingTop+15*a,"font-family":b.settings.fontFamily,"font-size":b.settings.fontSize,"text-anchor":"start"}).appendTo(f).getShape();m=b.handle.factory("tspan",!1).attr({"alignment-baseline":"text-before-edge"}).appendTo(m).getShape();b.handle.textNode(1===k?b.settings.series[0][a]:b.settings.series[a].label,!1).appendTo(m)}},pie:function(b){function a(b){b.category&&
(q+=1,a(b.category[0]))}function f(a,b){C[b]||(C[b]=0);for(var c=0,d=a.length;c<d;c++)C[b]+=parseFloat(a[c].value),y+=1,a[c].category&&f(a[c].category,b+1)}function e(a,b,d){if(!(u>=y-1))for(var f,k,m,n,D=c.settings.radius/(q+1)*(b+1),t=c.settings.radius/(q+1)*b,v=0,w=a.length;v<w;v++){f=parseFloat(a[v].value)/C[b]*360+d;h=x(g,p,D,-d);B=x(g,p,D,-f);k=x(g,p,t,-d);m=x(g,p,t,-f);switch(c.settings.plugin){case "canvas":c.handle.attr({fillStyle:a[v].color,strokeStyle:"#fff",lineWidth:2}).begin().moveTo(m[0],
m[1]).lineTo(B[0],B[1]).arc(g,p,D,f*Math.PI/180,d*Math.PI/180,!0).lineTo(h[0],h[1]).lineTo(k[0],k[1]).arc(g,p,t,d*Math.PI/180,f*Math.PI/180,!1).close().fill().stroke();break;default:c.handle.rose(h[0],h[1],D,B[0],B[1],m[0],m[1],t,k[0],k[1],!1).attr({fill:a[v].color,stroke:"#fff","stroke-width":2,"class":a[v].label}).appendTo(l)}if(c.settings.legend)switch(k=(f+d)/2,m=x(g,p,D,-k),n=x(g,p,t,-k),k=((m[0]+n[0])/2).toFixed(2),n=((m[1]+n[1])/2).toFixed(2),c.settings.plugin){case "canvas":switch(c.settings.legend){case 3:case 4:c.handle.attr({fillStyle:a[v].color||
r[v]}).fillRect(c.settings.width-c.settings.paddingRight+10,c.settings.paddingTop+15*u,12,12);m=a[v].label;4===c.settings.legend&&(m+=": "+a[v].value);c.handle.attr({font:c.settings.fontSize+" "+c.settings.fontFamily,textAlign:"left",textBaseline:"top",fillStyle:c.settings.textColor,strokeStyle:"transparent"}).text(m,c.settings.width-c.settings.paddingRight+25,c.settings.paddingTop+15*u);break;default:m=a[v].label,2===c.settings.legend&&(m+=": "+a[v].value),c.handle.attr({font:"9px "+c.settings.fontFamily,
textAlign:"center",textBaseline:"middle",fillStyle:c.settings.textColor,strokeStyle:"transparent"}).transform(1,0,0,1,k,n).text(m,0,0).resetTransform()}break;default:switch(c.settings.legend){case 3:case 4:c.handle.rect(c.settings.width-c.settings.paddingRight+10,c.settings.paddingTop+15*u,0,0,12,12,!1).attr({fill:a[v].color||r[v],stroke:"none","stroke-width":0}).appendTo(z);k=c.handle.factory("text",!1).attr({x:c.settings.width-c.settings.paddingRight+25,y:c.settings.paddingTop+15*u,"font-family":c.settings.fontFamily,
"font-size":c.settings.fontSize,"text-anchor":"start"}).appendTo(z).getShape();k=c.handle.factory("tspan",!1).attr({"alignment-baseline":"text-before-edge"}).appendTo(k).getShape();m=a[v].label;4===c.settings.legend&&(m+=": "+a[v].value);c.handle.textNode(m,!1).appendTo(k);break;default:k=c.handle.factory("text",!1).attr({x:0,y:0,transform:"matrix(1,0,0,1,"+k+","+n+")",fill:c.settings.textColor,"font-family":c.settings.fontFamily,"font-size":"9px","text-anchor":"middle"}).appendTo(z).getShape(),k=
c.handle.factory("tspan",!1).attr({"alignment-baseline":"middle"}).appendTo(k).getShape(),m=a[v].label,2===c.settings.legend&&(m+=": "+a[v].value),c.handle.textNode(m,!1).appendTo(k)}}u+=1;a[v].category&&b+1<=q&&e(a[v].category,b+1,d);d=f}}var c=this._getInst(b);if(!c)return!1;var k,m=[],h=0,d=0,g=Math.floor((c.settings.width-c.settings.paddingRight)/2),p=Math.floor(c.settings.height/2),r=w.getColors();if("svg"===c.settings.plugin){var l=c.handle.g().attr({"class":"zui-chart-canvas"}).getShape();
var n=0;for(k=c.settings.series.length;n<k;n++)m[n]=c.handle.radialGradient(g,p,c.settings.radius).attr({id:"radial-"+n,gradientUnits:"userSpaceOnUse"}).getShape(),c.handle.factory("stop",!1).attr({offset:"0","stop-color":c.settings.series[n].color!==A?c.settings.series[n].color:r[n]}).appendTo(m[n]),c.handle.factory("stop",!1).attr({offset:"1","stop-color":w.colorLuminance(c.settings.series[n].color!==A?c.settings.series[n].color:r[n],-.3)}).appendTo(m[n])}else if("canvas"===c.settings.plugin)for(n=
0,k=c.settings.series.length;n<k;n++)m[n]=c.handle.radialGradient(g,p,.9*c.settings.radius,g,p,c.settings.radius-c.settings.radius),m[n].addColorStop(0,c.settings.series[n].color!==A?c.settings.series[n].color:r[n]),m[n].addColorStop(1,w.colorLuminance(c.settings.series[n].color!==A?c.settings.series[n].color:r[n],-.3));var q=0,u=0,y=0,C=[];if("multi-level"===c.settings.variation){if(c.settings.legend&&"svg"===c.settings.plugin)var z=c.handle.g().attr({"class":"zui-chart-legend"}).getShape();a(c.settings.series[0]);
f(c.settings.series,0);k=c.settings.radius/(q+1);for(n=0;n<q;n++)if(0<n)e(c.settings.series[0].category,n,0);else{switch(c.settings.plugin){case "canvas":c.handle.attr({fillStyle:c.settings.series[0].color,strokeStyle:"#fff",lineWidth:2}).begin().circle(g,p,k).close().fill().stroke();break;default:c.handle.circle(g,p,k,!1).attr({fill:c.settings.series[0].color}).appendTo(l)}if(c.settings.legend)switch(c.settings.plugin){case "canvas":switch(c.settings.legend){case 3:case 4:break;default:c.handle.attr({font:"9px "+
c.settings.fontFamily,textAlign:"center",textBaseline:"middle",fillStyle:c.settings.textColor,strokeStyle:"transparent"}).transform(1,0,0,1,g,p).text(c.settings.series[0].label,0,0).resetTransform()}break;default:switch(c.settings.legend){case 3:case 4:break;default:var v=c.handle.factory("text",!1).attr({x:0,y:0,transform:"matrix(1,0,0,1,"+g+","+p+")",fill:c.settings.textColor,"font-family":c.settings.fontFamily,"font-size":"9px","text-anchor":"middle"}).appendTo(z).getShape();v=c.handle.factory("tspan",
!1).attr({"alignment-baseline":"middle"}).appendTo(v).getShape();c.handle.textNode(c.settings.series[0].label,!1).appendTo(v)}}}}else{n=0;for(k=c.settings.series.length;n<k;n++)d+=c.settings.series[n].value;n=0;for(k=c.settings.series.length;n<k;n++){v=Math.floor(999999*Math.random());var B=c.settings.series[n].value/d*360+h;switch(c.settings.plugin){case "canvas":c.handle.attr({lineWidth:2,fillStyle:m[n],strokeStyle:"#FFFFFF"}).sector(g,p,c.settings.radius,h,B);break;default:c.handle.sector(g,p,
c.settings.radius,h.toFixed(2),B.toFixed(2),!1).attr({fill:"url(#radial-"+n+")",stroke:"#FFFFFF","stroke-width":2,"data-rel":"sector_"+v,"zui:tooltip":c.settings.tooltip&&c.settings.tooltip.pattern?c.settings.tooltip.pattern.replace("%label",c.settings.series[n].label).replace("%value",c.settings.series[n].value).replace("%percent",(c.settings.series[n].value/d*100).toFixed(1)+"%"):c.settings.series[n].label}).bind("click",function(a,b,d,e){return function(f,k){var h=t(k);h=h.siblings("path[data-rel='arc_"+
h.attr("data-rel").split("_")[1]+"']");0===h.length?c.handle.arc(g,p,c.settings.radius+3,a,b,!1).attr({fill:"none",stroke:d,"stroke-opacity":1,"stroke-width":3,"data-rel":"arc_"+e}).appendTo(l):h.remove()}}(h.toFixed(2),B.toFixed(2),c.settings.series[n].color!==A?c.settings.series[n].color:r[n],v)).bind("mouseenter",function(a){return function(c,d){a._mouseenter.call(a,b,c,d)}}(this)).bind("mouseleave",function(a){return function(c,d){a._mouseleave.call(a,b,c,d)}}(this)).bind("mousemove",function(a){return function(c,
d){a._mousemove.call(a,b,c,d)}}(this)).appendTo(l)}h=B}this._tooltip.call(this,b);this._showLabelsChart.call(this,b);c.settings.legend&&this._showLegendChart.call(this,b)}},polar:function(b){var a=this._getInst(b);if(!a)return!1;this.setCircumference.call(this,b);var f,e,c=[],k=Math.floor((a.settings.width-a.settings.paddingRight)/2),m=Math.floor(a.settings.height/2),h=this.getBounds2(b),d=360/a.settings.series[0].data.length,g=w.getColors();if("svg"===a.settings.plugin){var p=a.handle.g().attr({"class":"zui-chart-area"}).getShape();
var r=a.handle.g().attr({"class":"zui-chart-points"}).getShape()}var l=0;for(f=a.settings.series[0].data.length;l<f;l++){var n=0;for(e=a.settings.series.length;n<e;n++){var q=a.settings.series[n].data[l].value/h.yMax*a.settings.radius;var u=k+q*Math.cos((-90+d*l)*Math.PI/180);q=m+q*Math.sin((-90+d*l)*Math.PI/180);c[n]===A&&(c[n]=[]);0<l?c[n].push(["L",u,",",q].join("")):c[n].push(["M",u,",",q].join(""))}}if("scatter"!==a.settings.variation)for(n=0,e=c.length;n<e;n++)switch(a.settings.plugin){case "canvas":l=
w.hexToRgb(a.settings.series[n].color||g[n]);c[n].push(c[n][0]);a.handle.attr({fillStyle:"area"===a.settings.variation?["rgba("+l.r,l.g,l.b,"0.4)"].join():"none",strokeStyle:a.settings.series[n].color||g[n],lineWidth:2}).path(c[n].join(""));break;default:c[n].push("Z"),a.handle.path(c[n].join(""),!1).attr({fill:"area"===a.settings.variation?a.settings.series[n].color||g[n]:"none","fill-opacity":"area"===a.settings.variation?.4:1,stroke:a.settings.series[n].color||g[n],"stroke-width":2,style:"stroke-dasharray: 3000,3000"}).appendTo(p)}l=
0;for(f=a.settings.series[0].data.length;l<f;l++)for(n=0,e=a.settings.series.length;n<e;n++)if(q=a.settings.series[n].data[l].value/h.yMax*a.settings.radius,u=k+q*Math.cos((-90+d*l)*Math.PI/180),q=m+q*Math.sin((-90+d*l)*Math.PI/180),a.settings.points||"scatter"===a.settings.variation)switch(a.settings.plugin){case "canvas":a.handle.attr({fillStyle:"#FFFFFF",strokeStyle:a.settings.series[n].color||g[n],lineWidth:2}).begin().circle(u,q,3).close().fill().stroke();break;default:a.handle.circle(u,q,3,
!1).attr({fill:"#FFFFFF",stroke:a.settings.series[n].color||g[n],"stroke-width":2}).appendTo(r)}this.setCircumferenceLabels.call(this,b);a.settings.legend&&this._showLegendChart.call(this,b)},radar:function(b){var a=this._getInst(b);if(!a)return!1;this.setCircumference.call(this,b);var f,e,c,k=[],m=Math.floor((a.settings.width-a.settings.paddingRight)/2),h=Math.floor(a.settings.height/2),d=this.getBounds2(b),g=360/a.settings.series[0].data.length,p=w.getColors();"svg"===a.settings.plugin&&(c=a.handle.g().attr({"class":"zui-chart-area"}).getShape());
var r=0;for(f=a.settings.series[0].data.length;r<f;r++){var l=0;for(e=a.settings.series.length;l<e;l++){var n=a.settings.series[l].data[r].value/d.yMax*a.settings.radius;var q=m+n*Math.cos((-90+g*r)*Math.PI/180);n=h+n*Math.sin((-90+g*r)*Math.PI/180);k[l]===A&&(k[l]=[]);0<r?k[l].push(["L",q,",",n].join("")):k[l].push(["M",q,",",n].join(""))}}l=0;for(e=k.length;l<e;l++)switch(a.settings.plugin){case "canvas":r=w.hexToRgb(a.settings.series[l].color||p[l]);k[l].push(k[l][0]);a.handle.attr({fillStyle:["rgba("+
r.r,r.g,r.b,"0.4)"].join(),strokeStyle:a.settings.series[l].color||p[l],lineWidth:1}).path(k[l].join(""));break;default:k[l].push("Z"),a.handle.path(k[l].join(""),!1).attr({fill:a.settings.series[l].color||p[l],"fill-opacity":.4,stroke:a.settings.series[l].color||p[l],"stroke-width":1}).appendTo(c)}this.setCircumferenceLabels.call(this,b);a.settings.legend&&this._showLegendChart.call(this,b)},rose:function(b){var a=this._getInst(b);if(!a)return!1;this.setCircumference.call(this,b);var f,e,c,k=0;var m=
[];var h=[],d=Math.floor((a.settings.width-a.settings.paddingRight)/2),g=Math.floor(a.settings.height/2),p=this.getBounds2(b),r=360/a.settings.series[0].data.length,l=w.getColors();if("svg"===a.settings.plugin){var n=a.handle.g().attr({"class":"zui-chart-area"}).getShape();a.handle.g().attr({"class":"zui-chart-area222"}).getShape();var q=0;for(f=a.settings.series.length;q<f;q++)m[q]=a.handle.radialGradient(d,g,a.settings.radius).attr({id:"radial-"+q,gradientUnits:"userSpaceOnUse"}).getShape(),a.handle.factory("stop",
!1).attr({offset:"0","stop-color":a.settings.series[q].color!==A?a.settings.series[q].color:l[q]}).appendTo(m[q]),a.handle.factory("stop",!1).attr({offset:"1","stop-color":w.colorLuminance(a.settings.series[q].color!==A?a.settings.series[q].color:l[q],-.3)}).appendTo(m[q])}q=0;for(f=a.settings.series[0].data.length;q<f;q++)for(m=h[q]=0,e=a.settings.series.length;m<e;m++)h[q]+=a.settings.series[m].data[q].value;switch(a.settings.stacking){case "normal":case "percent":k=Math.max.apply(Math,h)}q=0;for(f=
a.settings.series[0].data.length;q<f;q++)for(m=c=0,e=a.settings.series.length;m<e;m++)if(a.settings.stacking){switch(a.settings.stacking){case "normal":var u=a.settings.series[m].data[q].value/k;var y=a.settings.radius*(u+c);c+=u;break;case "percent":u=a.settings.series[m].data[q].value/h[q],y=a.settings.radius*(u+c),c+=u}u=-90+r*q;var t=-90+r*q+r;var z=Math.abs(u-t)/4;u+=z;t-=z;z=x(d,g,y,-u);var v=x(d,g,y,-t);if(0<m)switch(a.settings.plugin){case "canvas":a.handle.attr({fillStyle:l[m]}).begin().moveTo(E[0],
E[1]).lineTo(v[0],v[1]).arc(d,g,y,u*Math.PI/180,t*Math.PI/180,!1).lineTo(z[0],z[1]).lineTo(B[0],B[1]).arc(d,g,F,u*Math.PI/180,t*Math.PI/180,!1).close().stroke().fill();break;default:a.handle.rose(z[0],z[1],y,v[0],v[1],E[0],E[1],F,B[0],B[1],!1).attr({fill:"url(#radial-"+m+")","zui:tooltip":a.settings.tooltip&&a.settings.tooltip.pattern?a.settings.tooltip.pattern.replace("%label",a.settings.series[m].label).replace("%value",a.settings.series[m].data[q].value).replace("%percent",(a.settings.series[m].data[q].value/
h[q]*100).toFixed(1)+"%"):a.settings.series[q].label}).bind("mouseenter",function(a){return function(c,d){a._mouseenter.call(a,b,c,d)}}(this)).bind("mouseleave",function(a){return function(c,d){a._mouseleave.call(a,b,c,d)}}(this)).bind("mousemove",function(a){return function(c,d){a._mousemove.call(a,b,c,d)}}(this)).appendTo(n)}else switch(a.settings.plugin){case "canvas":a.handle.attr({fillStyle:l[m]}).sector(d,g,y,u,t);break;default:a.handle.rose(z[0],z[1],y,v[0],v[1],d,g,0,d,g,!1).attr({fill:"url(#radial-"+
m+")","zui:tooltip":a.settings.tooltip&&a.settings.tooltip.pattern?a.settings.tooltip.pattern.replace("%label",a.settings.series[m].label).replace("%value",a.settings.series[m].data[q].value).replace("%percent",(a.settings.series[m].data[q].value/h[q]*100).toFixed(1)+"%"):a.settings.series[q].label}).bind("mouseenter",function(a){return function(c,d){a._mouseenter.call(a,b,c,d)}}(this)).bind("mouseleave",function(a){return function(c,d){a._mouseleave.call(a,b,c,d)}}(this)).bind("mousemove",function(a){return function(c,
d){a._mousemove.call(a,b,c,d)}}(this)).appendTo(n)}var B=z;var E=v;var F=y}else switch(y=a.settings.series[m].data[q].value/p.yMax*a.settings.radius,u=-90+r*q+r/e*(m-1),t=-90+r*q+r/e*m,a.settings.plugin){case "canvas":a.handle.attr({fillStyle:l[m]}).sector(d,g,y,u,t);break;default:a.handle.sector(d,g,y,u,t,!1).attr({fill:"url(#radial-"+m+")","zui:tooltip":a.settings.tooltip&&a.settings.tooltip.pattern?a.settings.tooltip.pattern.replace("%label",a.settings.series[m].label).replace("%value",a.settings.series[m].data[q].value).replace("%percent",
(a.settings.series[m].data[q].value/h[q]*100).toFixed(1)+"%"):a.settings.series[q].label}).bind("mouseenter",function(a){return function(c,d){a._mouseenter.call(a,b,c,d)}}(this)).bind("mouseleave",function(a){return function(c,d){a._mouseleave.call(a,b,c,d)}}(this)).bind("mousemove",function(a){return function(c,d){a._mousemove.call(a,b,c,d)}}(this)).appendTo(n)}this._tooltip.call(this,b);this.setCircumferenceLabels.call(this,b);a.settings.legend&&this._showLegendChart.call(this,b)},donut:function(b){var a=
this._getInst(b);if(!a)return!1;var f,e=a.settings.innerRadius,c=a.settings.radius,k=[],m=0,h=0,d=Math.floor((a.settings.width-a.settings.paddingRight)/2),g=Math.floor(a.settings.height/2),p=w.getColors();if("svg"===a.settings.plugin){var r=a.handle.g().attr({"class":"zui-chart-canvas"}).getShape();var l=0;for(f=a.settings.series.length;l<f;l++)k[l]=a.handle.radialGradient(d,g,a.settings.radius).attr({id:"radial-"+l,gradientUnits:"userSpaceOnUse"}).getShape(),a.handle.factory("stop",!1).attr({offset:"0",
"stop-color":a.settings.series[l].color!==A?a.settings.series[l].color:p[l]}).appendTo(k[l]),a.handle.factory("stop",!1).attr({offset:"1","stop-color":w.colorLuminance(a.settings.series[l].color!==A?a.settings.series[l].color:p[l],-.3)}).appendTo(k[l])}else if("canvas"===a.settings.plugin)for(l=0,f=a.settings.series.length;l<f;l++)k[l]=a.handle.radialGradient(d,g,.9*a.settings.radius,d,g,a.settings.radius-a.settings.radius),k[l].addColorStop(0,a.settings.series[l].color!==A?a.settings.series[l].color:
p[l]),k[l].addColorStop(1,w.colorLuminance(a.settings.series[l].color!==A?a.settings.series[l].color:p[l],-.3));l=0;for(f=a.settings.series.length;l<f;l++)h+=a.settings.series[l].value;l=0;for(f=a.settings.series.length;l<f;l++){var n=Math.floor(999999*Math.random());var q=a.settings.series[l].value/h*360+m;switch(a.settings.plugin){case "canvas":var u=x(d,g,e,-m);var y=x(d,g,e,-q);var C=x(d,g,c,-m);var z=x(d,g,c,-q);a.handle.attr({lineWidth:2,fillStyle:k[l],strokeStyle:"#FFFFFF"}).begin().moveTo(z[0],
z[1]).lineTo(y[0],y[1]).arc(d,g,e,q*Math.PI/180,m*Math.PI/180,!0).lineTo(u[0],u[1]).lineTo(C[0],C[1]).arc(d,g,c,m*Math.PI/180,q*Math.PI/180,!1).close().fill().stroke();break;default:u=x(d,g,e,-m),y=x(d,g,e,-q),C=x(d,g,c,-m),z=x(d,g,c,-q),a.handle.rose(u[0],u[1],e,y[0],y[1],z[0],z[1],c,C[0],C[1],!1).attr({fill:"url(#radial-"+l+")",stroke:"#FFFFFF","stroke-width":2,"data-rel":"sector_"+n,"zui:tooltip":a.settings.tooltip&&a.settings.tooltip.pattern?a.settings.tooltip.pattern.replace("%label",a.settings.series[l].label).replace("%value",
a.settings.series[l].value).replace("%percent",(a.settings.series[l].value/h*100).toFixed(1)+"%"):a.settings.series[l].label}).bind("click",function(b,c,e,f){return function(h,k){var l=t(k);l=l.siblings("path[data-rel='arc_"+l.attr("data-rel").split("_")[1]+"']");0===l.length?a.handle.arc(d,g,a.settings.radius+3,b,c,!1).attr({fill:"none",stroke:e,"stroke-opacity":1,"stroke-width":3,"data-rel":"arc_"+f}).appendTo(r):l.remove()}}(m.toFixed(2),q.toFixed(2),a.settings.series[l].color!==A?a.settings.series[l].color:
p[l],n)).bind("mouseenter",function(a){return function(c,d){a._mouseenter.call(a,b,c,d)}}(this)).bind("mouseleave",function(a){return function(c,d){a._mouseleave.call(a,b,c,d)}}(this)).bind("mousemove",function(a){return function(c,d){a._mousemove.call(a,b,c,d)}}(this)).appendTo(r)}m=q}this._tooltip.call(this,b);this._showLabelsChart.call(this,b);a.settings.legend&&this._showLegendChart.call(this,b)},_lineArea:function(b){var a=this._getInst(b);if(!a)return!1;this.setPlot.call(this,b);a.settings.legend&&
this._showLegendChart.call(this,b);var f,e,c,k=[],m=w.getColors();if("svg"===a.settings.plugin){"area"===a.settings.type&&(c=a.handle.g().attr({"class":"zui-chart-plot"}).getShape());var h=a.handle.g().attr({"class":"zui-chart-canvas","clip-path":"url(#zinoui-"+a.uid+")"}).getShape()}var d=0;for(f=a.settings.series[0].data.length;d<f;d++){var g=k[d]=0;for(e=a.settings.series.length;g<e;g++)k[d]+=a.settings.series[g].data[d].value}d=0;for(f=a.settings.series.length;d<f;d++){var p=a.settings.paddingLeft+
a.settings.blockWidth/2;var r=[];var l=[];g=0;for(e=a.settings.series[d].data.length;g<e;g++){var n=a.settings.paddingLeft+a.settings.blockWidth*g+a.settings.blockWidth/2;var q=this.getY(b,a.settings.series[d].data[g].value);0===g?(r.push("M"+p+","+q),l.push("M"+p+","+q)):(r.push("L"+n+","+q),l.push("L"+n+","+q));this.points.push({x:n,y:q,radius:3,color:a.settings.series[d].color||m[d],name:a.settings.categories[0].category[g].label,data:a.settings.series[d].data[g].value})}g=w.hexToRgb(a.settings.series[d].color||
m[d]);if("area"===a.settings.type)switch(l.push("L"+n+","+(a.settings.height-a.settings.paddingBottom)),l.push("L"+p+","+(a.settings.height-a.settings.paddingBottom)),a.settings.plugin){case "canvas":a.handle.attr({fillStyle:["rgba("+g.r,g.g,g.b,"0.3)"].join(),strokeStyle:"transparent"}).path(l.join(""));break;default:l.push("Z"),a.handle.path(l.join(""),!1).attr({fill:a.settings.series[d].color||m[d],"fill-opacity":.3,stroke:"none","stroke-width":0}).appendTo(c)}switch(a.settings.plugin){case "canvas":a.handle.attr({fillStyle:"transparent",
strokeStyle:a.settings.series[d].color||m[d],lineWidth:2}).path(r.join(""));break;default:a.handle.path(r.join(""),!1).attr({fill:"none","fill-opacity":1,stroke:a.settings.series[d].color||m[d],"stroke-width":2,style:"stroke-dasharray: 3000,3000"}).appendTo(h)}}d=0;for(f=a.settings.series.length;d<f;d++)for(g=0,e=a.settings.series[d].data.length;g<e;g++)switch(n=a.settings.paddingLeft+a.settings.blockWidth*g+a.settings.blockWidth/2,q=this.getY(b,a.settings.series[d].data[g].value),a.settings.plugin){case "canvas":a.handle.attr({fillStyle:"#FFFFFF",
strokeStyle:a.settings.series[d].color||m[d],lineWidth:2}).begin().circle(n,q,4).close().fill().stroke();break;default:a.handle.circle(n,q,4,!1).attr({fill:"#FFFFFF",stroke:a.settings.series[d].color||m[d],"stroke-width":2,"zui:tooltip":a.settings.tooltip&&a.settings.tooltip.pattern?a.settings.tooltip.pattern.replace("%label",a.settings.series[d].label).replace("%value",a.settings.series[d].data[g].value).replace("%percent",(a.settings.series[d].data[g].value/k[d]*100).toFixed(1)+"%"):a.settings.series[d].label}).bind("mouseenter",
function(a){return function(c,d){a._mouseenter.call(a,b,c,d)}}(this)).bind("mouseleave",function(a){return function(c,d){a._mouseleave.call(a,b,c,d)}}(this)).bind("mousemove",function(a){return function(c,d){a._mousemove.call(a,b,c,d)}}(this)).appendTo(h)}this._tooltip.call(this,b)},line:function(b){this._lineArea.call(this,b)},area:function(b){this._lineArea.call(this,b)},bar:function(b){var a=this._getInst(b);if(!a)return!1;this.setPlot.call(this,b);a.settings.legend&&this._showLegendChart.call(this,
b);var f,e,c;var k=[];var m=0,h=[];var d=a.settings.series.length;var g=this.getXX(b,0);var p=this.getBounds2(b).yMax,r=w.getColors();if("svg"===a.settings.plugin){var l=a.handle.g().attr({"class":"zui-chart-canvas","clip-path":"url(#zinoui-"+a.uid+")"}).getShape();var n=0;for(f=a.settings.series.length;n<f;n++)k[n]=a.handle.linearGradient("50%","0%","50%","100%").attr({id:"linear-"+n}).getShape(),a.handle.factory("stop",!1).attr({offset:"0%","stop-color":a.settings.series[n].color||r[n]}).appendTo(k[n]),
a.handle.factory("stop",!1).attr({offset:"100%","stop-color":w.colorLuminance(a.settings.series[n].color||r[n],-.3)}).appendTo(k[n])}n=0;for(f=a.settings.series[0].data.length;n<f;n++)for(k=h[n]=0,e=a.settings.series.length;k<e;k++)h[n]+=a.settings.series[k].data[n].value;switch(a.settings.stacking){case "normal":case "percent":m=Math.max.apply(Math,h);d=a.settings.blockHeight/2;break;default:d=a.settings.blockHeight/2/d}n=0;for(f=a.settings.series[0].data.length;n<f;n++)for(k=c=0,e=a.settings.series.length;k<
e;k++){switch(a.settings.stacking){case "normal":g=a.settings.series[k].data[n].value/m;var q=a.settings.canvasWidth*g;g=c+a.settings.paddingLeft;var u=a.settings.paddingTop+n*a.settings.blockHeight+(a.settings.blockHeight-d)/2;c+=q;break;case "percent":g=a.settings.series[k].data[n].value/h[n];q=a.settings.canvasWidth*g;g=c+a.settings.paddingLeft;u=a.settings.paddingTop+n*a.settings.blockHeight+(a.settings.blockHeight-d)/2;c+=q;break;default:q=a.settings.series[k].data[n].value/p*a.settings.canvasWidth,
u=a.settings.paddingTop+n*a.settings.blockHeight+(d+2)*k+(a.settings.blockHeight-(d+2)*(e-1)+2)/2}switch(a.settings.plugin){case "canvas":a.handle.attr({fillStyle:r[k]}).fillRect(g,u,q,d);break;default:a.handle.rect(g,u,0,0,q,d,!1).attr({fill:"url(#linear-"+k+")","zui:tooltip":a.settings.tooltip&&a.settings.tooltip.pattern?a.settings.tooltip.pattern.replace("%label",a.settings.series[k].label).replace("%value",a.settings.series[k].data[n].value).replace("%percent",(a.settings.series[k].data[n].value/
h[n]*100).toFixed(1)+"%"):a.settings.series[k].label}).bind("mouseenter",function(a){return function(c,d){a._mouseenter.call(a,b,c,d)}}(this)).bind("mouseleave",function(a){return function(c,d){a._mouseleave.call(a,b,c,d)}}(this)).bind("mousemove",function(a){return function(c,d){a._mousemove.call(a,b,c,d)}}(this)).appendTo(l)}}this._tooltip.call(this,b)},bubble:function(b){var a=this._getInst(b);if(!a)return!1;this.setGrid.call(this,b);this.setAxis.call(this,b);var f,e,c=w.getColors(),k=this.getBounds2(b);
if("svg"===a.settings.plugin){var m={fill:a.settings.textColor,"font-family":a.settings.fontFamily,"font-size":a.settings.fontSize,"text-anchor":"middle"};var h=a.handle.g().attr({"class":"zui-chart-labels zui-chart-labels-y"}).getShape();var d=a.handle.g().attr({"class":"zui-chart-labels zui-chart-labels-x"}).getShape();var g=a.handle.g().attr({"class":"zui-chart-circles"}).getShape()}else"canvas"===a.settings.plugin&&(m={fillStyle:a.settings.textColor,font:a.settings.fontSize+" "+a.settings.fontFamily,
strokeStyle:"transparent"});a.settings.series.sort(function(a,b){return!isNaN(parseFloat(a[1]))&&isFinite(a[1])?a[1]<b[1]?-1:a[1]>b[1]?1:0:-1});var p=0;for(f=a.settings.categories[0].category.length;p<f;p++)switch(a.settings.plugin){case "canvas":a.handle.attr(m).attr({textAlign:"center"}).text(a.settings.categories[0].category[p].label,a.settings.paddingLeft+a.settings.blockWidth*p+a.settings.blockWidth/2,a.settings.height-a.settings.paddingBottom+20);break;default:a.handle.text(a.settings.paddingLeft+
a.settings.blockWidth*p+a.settings.blockWidth/2,a.settings.height-a.settings.paddingBottom+20,a.settings.categories[0].category[p].label,!1).attr(m).appendTo(d)}for(p=0;p<=k.yMax;p+=Math.ceil(k.yMax/4))switch(a.settings.plugin){case "canvas":a.handle.attr(m).attr({textBaseline:"middle",textAlign:"right"}).text(p,a.settings.paddingLeft-20,this.getYY(b,p));break;default:f=a.handle.factory("text",!1).attr(m).attr({x:a.settings.paddingLeft-10,y:this.getYY(b,p),"text-anchor":"end"}).appendTo(h).getShape(),
f=a.handle.factory("tspan",{"alignment-baseline":"middle"},!1).appendTo(f).getShape(),a.handle.textNode(p,!1).appendTo(f)}p=0;for(f=a.settings.series[0].data.length;p<f;p++)for(h=0,m=a.settings.series.length;h<m;h++){d=this.getX(b,a.settings.series[h].data[p].x);var r=this.getY(b,a.settings.series[h].data[p].y);a.settings.series[h].data[p].z!==A&&(e=a.settings.series[h].data[p].z/k.zMax*20);switch(a.settings.plugin){case "canvas":var l=w.hexToRgb(a.settings.series[h].color||c[h]);a.handle.attr({fillStyle:["rgba("+
l.r,l.g,l.b,"0.4)"].join()}).begin().circle(d,r,e).fill();break;default:a.handle.circle(d,r,e,!1).attr({fill:a.settings.series[h].color||c[h],"fill-opacity":.7,stroke:"none","stroke-width":0}).appendTo(g)}}},ohlc:function(b){var a=this._getInst(b);if(!a)return!1;this.setPlot.call(this,b);var f,e,c=w.getColors();this.getBounds(b);"svg"===a.settings.plugin&&(e=a.handle.g().attr({"class":"zui-chart-items","clip-path":"url(#zinoui-"+a.uid+")"}).getShape());var k=0;for(f=a.settings.series.length;k<f;k++){if("svg"===
a.settings.plugin){a.settings.tooltip.pattern="%label, open: %open, high: %high, low: %low, close: %close";var m=a.handle.g(!1).attr({"class":"zui-chart-item","zui:tooltip":a.settings.tooltip&&a.settings.tooltip.pattern?a.settings.tooltip.pattern.replace("%label",a.settings.series[k].label).replace("%open",a.settings.series[k].open).replace("%high",a.settings.series[k].high).replace("%low",a.settings.series[k].low).replace("%close",a.settings.series[k].close):a.settings.series[k].label}).bind("mouseenter",
function(a){return function(c,d){a._mouseenter.call(a,b,c,d)}}(this)).bind("mouseleave",function(a){return function(c,d){a._mouseleave.call(a,b,c,d)}}(this)).bind("mousemove",function(a){return function(c,d){a._mousemove.call(a,b,c,d)}}(this)).appendTo(e).getShape()}var h=a.settings.paddingLeft+k*a.settings.blockWidth+a.settings.blockWidth/2;var d=this.getY(b,a.settings.series[k].high);var g=this.getY(b,a.settings.series[k].low);switch(a.settings.plugin){case "canvas":a.handle.attr({strokeStyle:a.settings.series[k].color||
c[0],lineWidth:2}).line(h+.5,d,h+.5,g);d=this.getY(b,a.settings.series[k].open);a.handle.line(h+1+.5,d,h-6+.5,d);g=this.getY(b,a.settings.series[k].close);a.handle.line(h-1+.5,g,h+6+.5,g);break;default:a.handle.line(h,d,h,g,!1).attr({"shape-rendering":"crispEdges",stroke:a.settings.series[k].color||c[0],"stroke-width":2}).appendTo(m),d=this.getY(b,a.settings.series[k].open),a.handle.line(h+1,d,h-6,d,!1).attr({"shape-rendering":"crispEdges",stroke:a.settings.series[k].color||c[0],"stroke-width":2}).appendTo(m),
g=this.getY(b,a.settings.series[k].close),a.handle.line(h-1,g,h+6,g,!1).attr({"shape-rendering":"crispEdges",stroke:a.settings.series[k].color||c[0],"stroke-width":2}).appendTo(m)}}this._tooltip.call(this,b)},candlestick:function(b){var a=this._getInst(b);if(!a)return!1;this.setPlot.call(this,b);var f,e,c,k=.55*a.settings.blockWidth,m=w.getColors(),h=this.getBounds(b);"svg"===a.settings.plugin&&(c=a.handle.g().attr({"class":"zui-chart-candles","clip-path":"url(#zinoui-"+a.uid+")"}).getShape());var d=
0;for(f=a.settings.series.length;d<f;d++){if("svg"===a.settings.plugin){a.settings.tooltip.pattern="%label, open: %open, high: %high, low: %low, close: %close";var g=a.handle.g(!1).attr({"class":"zui-chart-candle","zui:tooltip":a.settings.tooltip&&a.settings.tooltip.pattern?a.settings.tooltip.pattern.replace("%label",a.settings.series[d].label).replace("%open",a.settings.series[d].open).replace("%high",a.settings.series[d].high).replace("%low",a.settings.series[d].low).replace("%close",a.settings.series[d].close):
a.settings.series[d].label}).bind("mouseenter",function(a){return function(c,d){a._mouseenter.call(a,b,c,d)}}(this)).bind("mouseleave",function(a){return function(c,d){a._mouseleave.call(a,b,c,d)}}(this)).bind("mousemove",function(a){return function(c,d){a._mousemove.call(a,b,c,d)}}(this)).appendTo(c).getShape()}var p=a.settings.series[d].high<a.settings.series[d].low;var r=e=a.settings.paddingLeft+d*a.settings.blockWidth+a.settings.blockWidth/2;var l=a.settings.height-a.settings.paddingBottom-a.settings.series[d].open/
h.yMax*a.settings.canvasHeight;var n=a.settings.height-a.settings.paddingBottom-a.settings.series[d].high/h.yMax*a.settings.canvasHeight;if(l>n)switch(a.settings.plugin){case "canvas":a.handle.attr({strokeStyle:a.settings.series[d].color||m[0],lineWidth:2}).line(r+.5,l,e+.5,n);break;default:a.handle.line(r,l,e,n,!1).attr({"shape-rendering":"crispEdges",stroke:a.settings.series[d].color||m[0],"stroke-width":2}).appendTo(g)}r=e=a.settings.paddingLeft+d*a.settings.blockWidth+a.settings.blockWidth/2;
l=a.settings.height-a.settings.paddingBottom-a.settings.series[d].low/h.yMax*a.settings.canvasHeight;n=a.settings.height-a.settings.paddingBottom-a.settings.series[d].close/h.yMax*a.settings.canvasHeight;if(l>n)switch(a.settings.plugin){case "canvas":a.handle.attr({strokeStyle:a.settings.series[d].color||m[0],lineWidth:2}).line(r+.5,l,e+.5,n);break;default:a.handle.line(r,l,e,n,!1).attr({"shape-rendering":"crispEdges",stroke:a.settings.series[d].color||m[0],"stroke-width":2}).appendTo(g)}n=Math.floor(99999*
Math.random());r=a.settings.paddingLeft+d*a.settings.blockWidth+(a.settings.blockWidth-k)/2;e=p?a.settings.height-a.settings.paddingBottom-a.settings.series[d].low/h.yMax*a.settings.canvasHeight:a.settings.height-a.settings.paddingBottom-a.settings.series[d].high/h.yMax*a.settings.canvasHeight;l=Math.abs(a.settings.series[d].high-a.settings.series[d].low)/h.yMax*a.settings.canvasHeight;switch(a.settings.plugin){case "canvas":a.handle.attr({fillStyle:p?a.settings.series[d].color||m[0]:"#FFFFFF",strokeStyle:a.settings.series[d].color||
m[0],lineWidth:2,"data-rel":"rect_"+n}).begin().rect(r,e,k,l).fill().stroke();break;default:a.handle.rect(r,e,0,0,k,l,!1).attr({fill:p?a.settings.series[d].color||m[0]:"#FFFFFF","shape-rendering":"crispEdges",stroke:a.settings.series[d].color||m[0],"stroke-width":2,"data-rel":"rect_"+n}).bind("click",function(b,c,d,e,f,k,h){return function(l){var m=null;l=t(l).siblings("rect[data-rel^='inner_']");var n=l.length;0<n&&(m=l.attr("data-rel").split("_")[1],l.remove());0!==n&&f==m||a.handle.rect(b+(h?1:
2),c+(h?1:2),0,0,d-(h?2:4),e-(h?2:4),!1).attr({fill:"none","shape-rendering":"crispEdges",stroke:k,"stroke-width":1,"data-rel":"inner_"+f}).appendTo(g)}}(r,e,k,l,n,p?"#FFFFFF":a.settings.series[d].color||m[0],p)).appendTo(g)}}this._tooltip.call(this,b)},column:function(b){var a=this._getInst(b);if(!a)return!1;this.setPlot.call(this,b);a.settings.legend&&this._showLegendChart.call(this,b);var f,e,c;var k=[];var m=a.settings.series.length,h=0,d=[],g=this.getBounds2(b).yMax,p=w.getColors();if("svg"===
a.settings.plugin){var r=a.handle.g().attr({"class":"zui-chart-canvas","clip-path":"url(#zinoui-"+a.uid+")"}).getShape();var l=0;for(f=a.settings.series.length;l<f;l++)k[l]=a.handle.linearGradient("0%","50%","100%","50%").attr({id:"linear-"+l}).getShape(),a.handle.factory("stop",!1).attr({offset:"0%","stop-color":a.settings.series[l].color||p[l]}).appendTo(k[l]),a.handle.factory("stop",!1).attr({offset:"100%","stop-color":w.colorLuminance(a.settings.series[l].color||p[l],-.3)}).appendTo(k[l])}l=0;
for(f=a.settings.series[0].data.length;l<f;l++)for(k=d[l]=0,e=a.settings.series.length;k<e;k++)d[l]+=a.settings.series[k].data[l].value;switch(a.settings.stacking){case "normal":case "percent":h=Math.max.apply(Math,d);var n=a.settings.blockWidth/2;break;default:n=a.settings.blockWidth/2/m}l=0;for(f=a.settings.series[0].data.length;l<f;l++)for(k=c=0,e=a.settings.series.length;k<e;k++){switch(a.settings.stacking){case "normal":var q=a.settings.series[k].data[l].value/h;var t=(a.settings.canvasHeight*
q).toFixed(2);var y=a.settings.paddingLeft+l*a.settings.blockWidth+(a.settings.blockWidth-n)/2;var x=((1-q-c)*a.settings.canvasHeight+a.settings.paddingTop).toFixed(2);c+=q;break;case "percent":q=a.settings.series[k].data[l].value/d[l];t=(a.settings.canvasHeight*q).toFixed(2);y=a.settings.paddingLeft+l*a.settings.blockWidth+(a.settings.blockWidth-n)/2;x=((1-q-c)*a.settings.canvasHeight+a.settings.paddingTop).toFixed(2);c+=q;break;default:t=(a.settings.series[k].data[l].value/g*a.settings.canvasHeight).toFixed(2),
y=a.settings.paddingLeft+l*a.settings.blockWidth+(n+2)*k+(a.settings.blockWidth-(n+2)*m+2)/2,x=(a.settings.height-a.settings.paddingTop-t).toFixed(2)}switch(a.settings.plugin){case "canvas":a.handle.attr({fillStyle:a.settings.series[k].color||p[k]}).fillRect(y,x,n,t);break;default:a.handle.rect(y,x,0,0,n,t,!1).attr({fill:"url(#linear-"+k+")","zui:tooltip":a.settings.tooltip&&a.settings.tooltip.pattern?a.settings.tooltip.pattern.replace("%label",a.settings.series[k].label).replace("%value",a.settings.series[k].data[l].value).replace("%percent",
(a.settings.series[k].data[l].value/d[l]*100).toFixed(1)+"%"):a.settings.series[k].label}).bind("mouseenter",function(a){return function(c,d){a._mouseenter.call(a,b,c,d)}}(this)).bind("mouseleave",function(a){return function(c,d){a._mouseleave.call(a,b,c,d)}}(this)).bind("mousemove",function(a){return function(c,d){a._mousemove.call(a,b,c,d)}}(this)).appendTo(r)}}this._tooltip.call(this,b)},gauge:function(b){b=this._getInst(b);if(!b)return!1;var a,f=b.settings.width/2,e=b.settings.height/2;var c=
b.settings.radius;var k=b.settings.radius+5,m=b.settings.radius+30;"svg"===b.settings.plugin&&(a=b.handle.g().attr({"class":"zui-chart-canvas","clip-path":"url(#zinoui-"+b.uid+")"}).getShape());switch(b.settings.plugin){case "svg":b.handle.circle(f,e,c,!1).attr({fill:"red"}).appendTo(a);c=x(f,e,k,-0);var h=x(f,e,k,-288);var d=x(f,e,m,-0);var g=x(f,e,m,-288);b.handle.rose(c[0],c[1],k,h[0],h[1],g[0],g[1],m,d[0],d[1],!1).attr({fill:"green"}).appendTo(a);a=b.handle.factory("text",{x:f,y:e},!1).attr({x:0,
y:0,transform:"matrix(1,0,0,1,"+f+","+e+")",fill:b.settings.textColor,"font-family":b.settings.fontFamily,"font-size":b.settings.fontSize,"text-anchor":"middle"}).appendTo(a).getShape();a=b.handle.factory("tspan",{"alignment-baseline":"middle"},!1).appendTo(a).getShape();b.handle.textNode("20%",!1).appendTo(a)}},getX:function(b,a){var f=this._getInst(b);if(!f)return!1;this.getBounds2(b);return(f.settings.width-f.settings.canvasWidth/this.getBounds2(b).xMax*a).toFixed(2)},getXX:function(b,a){var f=
this._getInst(b);return f?(f.settings.canvasWidth/this.getBounds2(b).yMax*a+f.settings.paddingLeft).toFixed(2):!1},getY:function(b,a){var f=this._getInst(b);if(!f)return!1;var e=this.getBounds2(b);return(f.settings.height-(a-e.yMin)/(e.yMax-e.yMin)*f.settings.canvasHeight-f.settings.paddingBottom).toFixed(2)},getYY:function(b,a){var f=this._getInst(b);return f?parseFloat((f.settings.height-f.settings.canvasHeight/this.getBounds2(b).yMax*a-f.settings.paddingBottom).toFixed(2)):!1},getBounds2:function(b){b=
this._getInst(b);if(!b)return!1;var a,f,e,c=0,k=null,m=null,h=null,d=null,g=null,p=null;if(-1===t.inArray(b.settings.type,["candlestick","ohlc"])){var r=c;for(a=b.settings.series.length;c<a;c++){var l=0;for(f=b.settings.series[c].data.length;l<f;l++)c===r&&0===l?(h=b.settings.series[c].data[l].value,d=b.settings.series[c].data[l].value):(h=b.settings.series[c].data[l].value>h?b.settings.series[c].data[l].value:h,d=b.settings.series[c].data[l].value<d?b.settings.series[c].data[l].value:d)}c=0;for(a=
b.settings.categories[0].category.length;c<a;c++)0===c?(k=b.settings.categories[0].category[c].label,m=b.settings.categories[0].category[c].label):(k=b.settings.categories[0].category[c].label>k?b.settings.categories[0].category[c].label:k,m=b.settings.categories[0].category[c].label<m?b.settings.categories[0].category[c].label:m)}switch(b.settings.type){case "bubble":case "scatter":c=0;for(a=b.settings.series[0].data.length;c<a;c++)for(l=0,f=b.settings.series.length;l<f;l++)0===c&&0===l?(k=b.settings.series[l].data[c].x,
m=b.settings.series[l].data[c].x,h=b.settings.series[l].data[c].y,d=b.settings.series[l].data[c].y,p=b.settings.series[l].data[c].z,g=b.settings.series[l].data[c].z):(k=b.settings.series[l].data[c].x>k?b.settings.series[l].data[c].x:k,m=b.settings.series[l].data[c].x<m?b.settings.series[l].data[c].x:m,h=b.settings.series[l].data[c].y>h?b.settings.series[l].data[c].y:h,d=b.settings.series[l].data[c].y<d?b.settings.series[l].data[c].y:d,p=b.settings.series[l].data[c].z>p?b.settings.series[l].data[c].z:
p,g=b.settings.series[l].data[c].z<g?b.settings.series[l].data[c].z:g);break;case "candlestick":case "ohlc":l=c=0;for(a=b.settings.series.length;c<a;c++)for(e in b.settings.series[c])b.settings.series[c].hasOwnProperty(e)&&-1!==t.inArray(e,["open","high","low","close"])&&(0===c&&0===l?(h=b.settings.series[c][e],d=b.settings.series[c][e]):(h=b.settings.series[c][e]>h?b.settings.series[c][e]:h,d=b.settings.series[c][e]<d?b.settings.series[c][e]:d),l++);c=0;for(a=b.settings.series.length;c<a;c++)0===
c?(k=b.settings.series[c][0],m=b.settings.series[c][0]):(k=b.settings.series[c][0]>k?b.settings.series[c][0]:k,m=b.settings.series[c][0]<m?b.settings.series[c][0]:m);k=m=0}return{xMin:parseFloat(m),xMax:parseFloat(k),yMin:d,yMax:h,zMin:g,zMax:p}},getBounds:function(b){b=this._getInst(b);if(!b)return!1;var a,f,e,c=-1===t.inArray(b.settings.type,["ohlc","candlestick"])?1:0,k=null,m=null,h=null,d=null;var g=c;for(a=b.settings.series.length;c<a;c++)switch(b.settings.type){case "bubble":1===c?(h=b.settings.series[c][2],
d=b.settings.series[c][2]):(h=b.settings.series[c][2]>h?b.settings.series[c][2]:h,d=b.settings.series[c][2]<d?b.settings.series[c][2]:d);break;case "ohlc":case "candlestick":for(e in b.settings.series[c])b.settings.series[c].hasOwnProperty(e)&&-1!==t.inArray(e,["open","high","low","close"])&&(1===c?(h=b.settings.series[c][e],d=b.settings.series[c][e]):(h=b.settings.series[c][e]>h?b.settings.series[c][e]:h,d=b.settings.series[c][e]<d?b.settings.series[c][e]:d));break;default:var p=1;for(f=b.settings.series[c].length;p<
f;p++)c===g&&1===p?(h=b.settings.series[c][p],d=b.settings.series[c][p]):(h=b.settings.series[c][p]>h?b.settings.series[c][p]:h,d=b.settings.series[c][p]<d?b.settings.series[c][p]:d)}p="bubble"!==b.settings.type?0:1;c=1;for(a=b.settings.series.length;c<a;c++)1===c?(k=b.settings.series[c][p],m=b.settings.series[c][p]):(k=b.settings.series[c][p]>k?b.settings.series[c][p]:k,m=b.settings.series[c][p]<m?b.settings.series[c][p]:m);return{xMin:m,xMax:k,yMin:d,yMax:h}},setPlot:function(b){if(!this._getInst(b))return!1;
this.setGrid(b);this.setLabels(b);this.setAxis(b)},setGrid:function(b){var a=this._getInst(b);if(!a)return!1;var f;this.getBounds(b);var e=this.getBounds2(b);if("svg"===a.settings.plugin){var c=a.handle.g().attr({"class":"zui-chart-grid"}).getShape();var k=a.handle.g().attr({"class":"zui-chart-axis-x"}).getShape();var m=a.handle.g().attr({"class":"zui-chart-axis-y"}).getShape()}switch(a.settings.type){case "area":case "line":case "stepline":case "spline":case "column":case "candlestick":case "ohlc":case "scatter":case "bubble":var h=
1;-1!==t.inArray(a.settings.type,"ohlc candlestick line area column stepline spline bubble scatter".split(" "))&&(h=0);var d=-1!==t.inArray(a.settings.type,"line area column stepline spline bubble scatter".split(" "))?a.settings.series[0].data.length:a.settings.series.length;for(f=a.settings.height-a.settings.paddingBottom;h<=d;h++){var g=-1===t.inArray(a.settings.type,"ohlc candlestick line area column stepline spline bubble scatter".split(" "))?h-1:h;g=a.settings.paddingLeft+a.settings.blockWidth*
g;switch(a.settings.plugin){case "canvas":a.handle.attr({lineWidth:1,fillStyle:"transparent",strokeStyle:a.settings.lineRowColor}).setLineDash([5,2]).line(g+.5,a.settings.paddingTop,g+.5,f).setLineDash([0]);a.handle.attr({lineWidth:1,fillStyle:"transparent",strokeStyle:a.settings.axisColor}).line(g+.5,f+1,g+.5,f+5);break;default:a.handle.line(g,a.settings.paddingTop,g,f,!1).attr({fill:"none","shape-rendering":"crispEdges",stroke:a.settings.lineRowColor,"stroke-dasharray":"5,2","stroke-width":1}).appendTo(c),
a.handle.line(g,f+1,g,f+5,!1).attr({fill:"none","shape-rendering":"crispEdges",stroke:a.settings.axisColor,"stroke-width":1}).appendTo(k)}}switch(a.settings.plugin){case "canvas":a.handle.attr({lineWidth:1,fillStyle:"transparent",strokeStyle:a.settings.lineRowColor}).setLineDash([5,2]).line(a.settings.paddingLeft,a.settings.paddingTop+.5,a.settings.paddingLeft+a.settings.canvasWidth,a.settings.paddingTop+.5).setLineDash([0]);break;default:a.handle.line(a.settings.paddingLeft,a.settings.paddingTop,
a.settings.paddingLeft+a.settings.canvasWidth,a.settings.paddingTop,!1).attr({fill:"none","shape-rendering":"crispEdges",stroke:a.settings.lineRowColor,"stroke-dasharray":"5,2","stroke-width":1}).appendTo(c)}h=0;for(d=e.yMax;h<=d;h+=Math.ceil(d/4))switch(f=this.getYY(b,h),a.settings.plugin){case "canvas":a.handle.attr({lineWidth:1,fillStyle:"transparent",strokeStyle:a.settings.lineRowColor}).setLineDash([5,2]).line(a.settings.paddingLeft,f+.5,a.settings.paddingLeft+a.settings.canvasWidth,f+.5).setLineDash([0]);
a.handle.attr({lineWidth:1,fillStyle:"transparent",strokeStyle:a.settings.axisColor}).line(a.settings.paddingLeft-4,f+.5,a.settings.paddingLeft,f+.5);break;default:a.handle.line(a.settings.paddingLeft,f,a.settings.paddingLeft+a.settings.canvasWidth,f,!1).attr({fill:"none","shape-rendering":"crispEdges",stroke:a.settings.lineRowColor,"stroke-dasharray":"5,2","stroke-width":1}).appendTo(c),a.handle.line(a.settings.paddingLeft-4,f,a.settings.paddingLeft,f,!1).attr({fill:"none","shape-rendering":"crispEdges",
stroke:a.settings.axisColor,"stroke-width":1}).appendTo(m)}break;case "bar":h=0;g=1;for(d=e.yMax;g<=a.settings.blockNum;g++,h+=Math.ceil(d/a.settings.blockNum))switch(f=a.settings.paddingTop+a.settings.blockHeight*h,a.settings.plugin){case "canvas":a.handle.attr({lineWidth:1,fillStyle:"transparent",strokeStyle:a.settings.lineRowColor}).setLineDash([5,2]).line(a.settings.paddingLeft,f+.5,a.settings.paddingLeft+a.settings.canvasWidth,f+.5).setLineDash([0]);a.handle.attr({fillStyle:a.settings.axisColor,
strokeStyle:"transparent"}).fillRect(a.settings.paddingLeft-4,f,4,1);break;default:a.handle.line(a.settings.paddingLeft,f,a.settings.paddingLeft+a.settings.canvasWidth,f,!1).attr({fill:"none","shape-rendering":"crispEdges",stroke:a.settings.lineRowColor,"stroke-dasharray":"5,2","stroke-width":1}).appendTo(c),a.handle.rect(a.settings.paddingLeft-4,f,0,0,4,1,!1).attr({fill:a.settings.axisColor,"shape-rendering":"crispEdges",stroke:"none","stroke-width":0}).appendTo(c)}f=a.settings.height-a.settings.paddingBottom;
h=0;for(d=e.yMax;h<=d;h+=Math.ceil(d/a.settings.blockNum))switch(b=a.settings.paddingLeft+a.settings.blockWidth*h,a.settings.plugin){case "canvas":a.handle.attr({fillStyle:a.settings.axisColor,strokeStyle:"transparent"}).fillRect(b,f,1,4);a.handle.attr({lineWidth:1,strokeStyle:a.settings.lineRowColor}).setLineDash([5,2]).line(b+.5,a.settings.paddingTop,b+.5,a.settings.paddingTop+a.settings.canvasHeight).setLineDash([0]);break;default:a.handle.rect(b,f,0,0,1,4,!1).attr({fill:a.settings.axisColor,"shape-rendering":"crispEdges",
stroke:"none","stroke-width":0}).appendTo(c),a.handle.line(b,a.settings.paddingTop,b,a.settings.paddingTop+a.settings.canvasHeight,!1).attr({fill:"none","shape-rendering":"crispEdges","stroke-dasharray":"5,2",stroke:a.settings.lineRowColor,"stroke-width":1}).appendTo(c)}}},setLabels:function(b){var a=this._getInst(b);if(!a)return!1;var f;this.getBounds(b);var e=this.getBounds2(b);switch(a.settings.plugin){case "canvas":var c={fillStyle:a.settings.textColor,font:a.settings.fontSize+" "+a.settings.fontFamily,
strokeStyle:"transparent",textAlign:"center"};break;default:var k=a.handle.g().attr({"class":"zui-chart-labels zui-chart-labels-y"}).getShape();var m=a.handle.g().attr({"class":"zui-chart-labels zui-chart-labels-x"}).getShape();c={fill:a.settings.textColor,"font-family":a.settings.fontFamily,"font-size":a.settings.fontSize,"text-anchor":"middle"}}switch(a.settings.type){case "area":case "line":case "stepline":case "spline":case "column":case "candlestick":case "ohlc":case "scatter":case "bubble":var h=
1;-1!==t.inArray(a.settings.type,"ohlc candlestick pie line area column stepline spline scatter".split(" "))&&(h=0);for(f=a.settings.categories[0].category.length;h<=f;h++){var d=-1===t.inArray(a.settings.type,"ohlc candlestick pie line area column stepline spline scatter".split(" "))?h-1:h;d=a.settings.paddingLeft+a.settings.blockWidth*d+a.settings.blockWidth/2;var g=a.settings.height-a.settings.paddingBottom;if(h<f)switch(a.settings.plugin){case "canvas":a.handle.attr(c).text(-1===t.inArray(a.settings.type,
["ohlc","candlestick","pie"])?a.settings.categories[0].category[h].label:a.settings.series[h].label,d,g+20);break;default:a.handle.text(d,g+20,-1===t.inArray(a.settings.type,["ohlc","candlestick","pie"])?a.settings.categories[0].category[h].label:a.settings.series[h].label,!1).attr(c).appendTo(m)}}m=e.yMax-e.yMin;h=0;f=e.yMax;for(d=e.yMin;h<=f;h+=Math.ceil(f/4),d+=Math.ceil(m/4))switch(g=this.getYY(b,h),a.settings.plugin){case "canvas":a.handle.attr(c).attr({textBaseline:"middle"}).text(0===d%1?d:
d.toFixed(1),a.settings.paddingLeft-20,g);break;default:g=a.handle.factory("text",{x:a.settings.paddingLeft-10,y:g},!1).attr(c).attr({"text-anchor":"end"}).appendTo(k).getShape(),g=a.handle.factory("tspan",{"alignment-baseline":"middle"},!1).appendTo(g).getShape(),a.handle.textNode(0===d%1?d:d.toFixed(1),!1).appendTo(g)}break;case "bar":g=a.settings.height-a.settings.paddingBottom;h=0;for(f=e.yMax;h<=f;h+=Math.ceil(f/a.settings.blockNum))switch(d=a.settings.paddingLeft+a.settings.blockWidth*h,a.settings.plugin){case "canvas":a.handle.attr(c).text(h,
d,g+20);break;default:a.handle.text(d,g+20,h,!1).attr(c).appendTo(m)}d=h=0;for(f=e.yMax;d<a.settings.blockNum;d++,h+=Math.ceil(f/a.settings.blockNum))switch(g=a.settings.paddingTop+a.settings.blockHeight*h,a.settings.plugin){case "canvas":a.handle.attr(c).attr({textBaseline:"middle"}).text(a.settings.categories[0].category[d].label,a.settings.paddingLeft-20,g+a.settings.blockHeight/2);break;default:g=a.handle.factory("text",!1).attr(c).attr({x:a.settings.paddingLeft-10,y:g+a.settings.blockHeight/
2,"text-anchor":"end"}).appendTo(k).getShape(),g=a.handle.factory("tspan",{"alignment-baseline":"middle"},!1).appendTo(g).getShape(),a.handle.textNode(a.settings.categories[0].category[d].label,!1).appendTo(g)}}},setCircumference:function(b){b=this._getInst(b);if(!b)return!1;var a,f,e=[],c=Math.floor((b.settings.width-b.settings.paddingRight)/2),k=Math.floor(b.settings.height/2),m=360/b.settings.series[0].data.length,h=b.settings.radius/5;if("svg"===b.settings.plugin){var d=b.handle.g().attr({"class":"zui-chart-lines"}).getShape();
var g=b.handle.g().attr({"class":"zui-chart-grid"}).getShape()}var p=0;for(a=b.settings.series[0].data.length;p<a;p++){var r=c+b.settings.radius*Math.cos((-90+m*p)*Math.PI/180);var l=k+b.settings.radius*Math.sin((-90+m*p)*Math.PI/180);switch(b.settings.plugin){case "canvas":b.handle.attr({strokeStyle:b.settings.lineRowColor,lineWidth:1}).line(c,k,r,l);break;default:b.handle.line(c,k,r,l,!1).attr({fill:"none",stroke:b.settings.lineRowColor,"stroke-width":1}).appendTo(d)}}switch(b.settings.type){case "radar":d=
0;for(f=5;d<f;d++){e[d]=[];p=0;for(a=b.settings.series[0].data.length;p<a;p++)r=c+(b.settings.radius-h*d)*Math.cos((-90+m*p)*Math.PI/180),l=k+(b.settings.radius-h*d)*Math.sin((-90+m*p)*Math.PI/180),0<p?e[d].push(["L",r,",",l].join("")):e[d].push(["M",r,",",l].join(""));switch(b.settings.plugin){case "canvas":e[d].push(e[d][0]);b.handle.attr({fillStyle:"transparent",strokeStyle:b.settings.lineRowColor,lineWidth:1}).path(e[d].join(""));break;default:e[d].push("Z"),b.handle.path(e[d].join(""),!1).attr({fill:"none",
stroke:b.settings.lineRowColor,"stroke-width":1}).appendTo(g)}}break;default:for(d=0,f=5;d<f;d++)switch(b.settings.plugin){case "canvas":b.handle.attr({fillStyle:"transparent",strokeStyle:b.settings.lineRowColor,lineWidth:1}).begin().circle(c,k,b.settings.radius-h*d).close().fill().stroke();break;default:b.handle.circle(c,k,b.settings.radius-h*d,!1).attr({fill:"none",stroke:b.settings.lineRowColor,"stroke-width":1}).appendTo(g)}}},setCircumferenceLabels:function(b){var a=this._getInst(b);if(!a)return!1;
var f,e=Math.floor((a.settings.width-a.settings.paddingRight)/2),c=Math.floor(a.settings.height/2),k=this.getBounds2(b),m=360/a.settings.series[0].data.length,h=a.settings.radius/5;if("svg"===a.settings.plugin){var d=a.handle.g().attr({"class":"zui-chart-labels"}).getShape();var g=a.handle.g().attr({"class":"zui-chart-scale"}).getShape()}b=0;for(f=a.settings.categories[0].category.length;b<f;b++){switch(a.settings.type){case "radar":var p=a.settings.categories[0].category[b].label;break;default:p=
(m*b).toFixed(0),"categories"in a.settings&&a.settings.categories[0]&&"category"in a.settings.categories[0]&&a.settings.categories[0].category&&a.settings.categories[0].category[b]&&"label"in a.settings.categories[0].category[b]&&(p=a.settings.categories[0].category[b].label)}var r=e+(a.settings.radius+20)*Math.cos((-90+m*b)*Math.PI/180);var l=c+(a.settings.radius+20)*Math.sin((-90+m*b)*Math.PI/180);switch(a.settings.plugin){case "canvas":a.handle.attr({textAlign:"center",textBaseline:"middle",fillStyle:a.settings.textColor,
strokeStyle:"transparent",font:a.settings.fontSize+" "+a.settings.fontFamily}).text(p,r,l);break;default:r=a.handle.factory("text",{x:r,y:l,fill:a.settings.textColor,"font-size":a.settings.fontSize,"font-family":a.settings.fontFamily,"text-anchor":"middle"},!1).appendTo(d).getShape(),r=a.handle.factory("tspan",{"alignment-baseline":"middle"},!1).appendTo(r).getShape(),a.handle.textNode(p,!1).appendTo(r)}}for(d=0;5>d;d++)for(b=0,f=a.settings.series[0].data.length;b<f;b++)if(r=e+(a.settings.radius-
h*d)*Math.cos((-90+m*b)*Math.PI/180),l=c+(a.settings.radius-h*d)*Math.sin((-90+m*b)*Math.PI/180),!(0<b))switch(a.settings.plugin){case "canvas":a.handle.attr({textAlign:"right",textBaseline:"middle",fillStyle:a.settings.textColor,font:a.settings.fontSize+" "+a.settings.fontFamily}).text((k.yMax-k.yMax/5*d).toFixed(2),r-5,l);break;default:r=a.handle.factory("text",{x:r-5,y:l,fill:a.settings.textColor,"font-size":a.settings.fontSize,"font-family":a.settings.fontFamily,"text-anchor":"end"},!1).appendTo(g).getShape(),
r=a.handle.factory("tspan",{"alignment-baseline":"central"},!1).appendTo(r).getShape(),a.handle.textNode((k.yMax-k.yMax/5*d).toFixed(2),!1).appendTo(r)}},setAxis:function(b){b=this._getInst(b);if(!b)return!1;var a,f=[];"svg"===b.settings.plugin&&(a=b.handle.g().attr({"class":"zui-chart-axis"}).getShape());switch(b.settings.plugin){case "canvas":f.push(["M",b.settings.paddingLeft+.5,",",b.settings.paddingTop].join(""));f.push(["L",b.settings.paddingLeft+.5,",",b.settings.paddingTop+b.settings.canvasHeight+
.5].join(""));f.push(["L",b.settings.paddingLeft+b.settings.canvasWidth+.5,",",b.settings.paddingTop+b.settings.canvasHeight+.5].join(""));b.handle.attr({fillStyle:"transparent",strokeStyle:b.settings.axisColor,lineWidth:1}).path(f.join(""));break;default:f.push([b.settings.paddingLeft,",",b.settings.paddingTop].join("")),f.push([b.settings.paddingLeft,",",b.settings.paddingTop+b.settings.canvasHeight].join("")),f.push([b.settings.paddingLeft+b.settings.canvasWidth,",",b.settings.paddingTop+b.settings.canvasHeight].join("")),
b.handle.polyline(f.join(" "),!1).attr({fill:"none","shape-rendering":"crispEdges",stroke:b.settings.axisColor,"stroke-width":1}).appendTo(a)}},scatter:function(b){var a=this._getInst(b);if(!a)return!1;this.setGrid.call(this,b);this.setAxis.call(this,b);var f;var e=this.getBounds2(b);var c=w.getColors();switch(a.settings.plugin){case "canvas":var k={fillStyle:a.settings.textColor,font:a.settings.fontSize+" "+a.settings.fontFamily,strokeStyle:"transparent"};break;default:var m=a.handle.g().attr({"class":"zui-chart-markers"}).getShape();
k={fill:a.settings.textColor,"font-family":a.settings.fontFamily,"font-size":a.settings.fontSize,"text-anchor":"middle"};var h=a.handle.g().attr({"class":"zui-chart-labels zui-chart-labels-y"}).getShape();var d=a.handle.g().attr({"class":"zui-chart-labels zui-chart-labels-x"}).getShape()}var g=0;for(f=a.settings.categories[0].category.length;g<f;g++)switch(a.settings.plugin){case "canvas":a.handle.attr(k).attr({textAlign:"center"}).text(a.settings.categories[0].category[g].label,a.settings.paddingLeft+
a.settings.blockWidth*g+a.settings.blockWidth/2,a.settings.height-a.settings.paddingBottom+20);break;default:a.handle.text(a.settings.paddingLeft+a.settings.blockWidth*g+a.settings.blockWidth/2,a.settings.height-a.settings.paddingBottom+20,a.settings.categories[0].category[g].label,!1).attr(k).attr({"text-anchor":"middle"}).appendTo(d)}for(g=0;g<=e.yMax;g+=Math.ceil(e.yMax/4))switch(a.settings.plugin){case "canvas":a.handle.attr(k).attr({textAlign:"right",textBaseline:"middle"}).text(g,a.settings.paddingLeft-
20,this.getYY(b,g));break;default:f=a.handle.factory("text",!1).attr(k).attr({x:a.settings.paddingLeft-10,y:this.getYY(b,g),"text-anchor":"end"}).appendTo(h).getShape(),f=a.handle.factory("tspan",{"alignment-baseline":"middle"},!1).appendTo(f).getShape(),a.handle.textNode(g,!1).appendTo(f)}g=0;for(f=a.settings.series[0].data.length;g<f;g++)for(k=0,h=a.settings.series.length;k<h;k++)switch(e=this.getX(b,a.settings.series[k].data[g].x),d=this.getY(b,a.settings.series[k].data[g].y),a.settings.plugin){case "canvas":a.handle.attr({fillStyle:a.settings.series[k].color||
c[k],strokeStyle:"transparent"}).begin().circle(e,d,4).fill();break;default:a.handle.circle(e,d,4,!1).attr({fill:a.settings.series[k].color||c[k],"fill-opacity":1,stroke:"none","stroke-width":0}).appendTo(m)}t(a.handle.svg).on("mouseover","circle",function(b){b=t(this);a.handle.circle(b.attr("cx"),b.attr("cy"),6,!1).attr({fill:"none",stroke:b.attr("fill"),"stroke-width":1,"class":"zui-chart-over"}).appendTo(m)}).on("mouseout","circle",function(a){t("circle.zui-chart-over").remove()})},spline:function(b){var a=
this._getInst(b);if(!a)return!1;this.setPlot.call(this,b);var f,e,c=[];var k=this.getBounds2(b);var m=w.getColors();if("svg"===a.settings.plugin){var h=a.handle.g().attr({"class":"zui-chart-canvas"}).getShape();var d=a.handle.g().attr({"class":"zui-chart-points"}).getShape()}b=0;for(f=a.settings.series[0].data.length;b<f;b++){var g=0;for(e=a.settings.series.length;g<e;g++)c[g]===A&&(c[g]=[]),c[g].push(a.settings.paddingTop+a.settings.canvasHeight-a.settings.series[g].data[b].value/k.yMax*a.settings.canvasHeight)}g=
0;for(e=c.length;g<e;g++){k=[];b=0;for(f=c[g].length;b<f;b++){var p=a.settings.paddingLeft+a.settings.blockWidth/2+b*a.settings.blockWidth;if(b!==f-1){var r=a.settings.paddingLeft+a.settings.blockWidth/2+(b+1)*a.settings.blockWidth;switch(a.settings.plugin){case "canvas":a.handle.attr({fillStyle:"transparent",strokeStyle:a.settings.series[g].color||m[g],lineWidth:3}).begin().moveTo(p,c[g][b]).bezierCurveTo(p+a.settings.blockWidth/2,c[g][b],r-a.settings.blockWidth/2,c[g][b+1],r,c[g][b+1]).stroke();
k.push((0<b?"":"M"+p+","+c[g][b]+" ")+"C"+(p+a.settings.blockWidth/2)+","+c[g][b]+" "+(r-a.settings.blockWidth/2)+","+c[g][b+1]+" "+r+","+c[g][b+1]);break;default:k.push((0<b?"":"M"+p+","+c[g][b]+" ")+"C"+(p+a.settings.blockWidth/2)+","+c[g][b]+" "+(r-a.settings.blockWidth/2)+","+c[g][b+1]+" "+r+","+c[g][b+1])}}switch(a.settings.plugin){case "canvas":a.handle.attr({fillStyle:"#FFFFFF",strokeStyle:a.settings.series[g].color||m[g],lineWidth:1}).begin().circle(p,c[g][b],4).fill().stroke();break;default:a.handle.circle(p,
c[g][b],4,!1).attr({fill:"#FFFFFF","fill-opacity":1,stroke:a.settings.series[g].color||m[g],"stroke-opacity":1,"stroke-width":1}).appendTo(d)}}switch(a.settings.plugin){case "canvas":break;default:a.handle.path(k.join(" "),!1).attr({fill:"none",stroke:a.settings.series[g].color||m[g],"stroke-width":3,style:"stroke-dasharray: 3000,3000"}).appendTo(h)}}},stepline:function(b){var a=this._getInst(b);if(!a)return!1;this.setPlot.call(this,b);var f,e,c,k=w.getColors(),m=[];"svg"===a.settings.plugin&&(c=
a.handle.g().attr({"class":"zui-chart-canvas","clip-path":"url(#zinoui-"+a.uid+")"}).getShape());var h=0;for(f=a.settings.series.length;h<f;h++){var d=a.settings.paddingLeft+a.settings.blockWidth/2;m[h]=[];var g=0;for(e=a.settings.series[h].data.length;g<e;g++){var p=a.settings.paddingLeft+a.settings.blockWidth*g+a.settings.blockWidth/2;var r=this.getY(b,a.settings.series[h].data[g].value);if(0<g)switch(a.settings.progression){case "backward":m[h].push(["L",p-a.settings.blockWidth,",",r].join(""));
m[h].push(["L",p,",",r].join(""));break;default:m[h].push(["L",p,",",r].join("")),g<e-1&&m[h].push(["L",p+a.settings.blockWidth,",",r].join(""))}else switch(a.settings.progression){case "backward":m[h].push(["M",d,",",r].join(""));break;default:m[h].push(["M",d,",",r].join("")),m[h].push(["L",d+a.settings.blockWidth,",",r].join(""))}}}h=0;for(f=m.length;h<f;h++)switch(a.settings.plugin){case "canvas":a.handle.attr({fillStyle:"transparent",strokeStyle:a.settings.series[h].color||k[h],lineWidth:2}).path(m[h].join(""));
break;default:a.handle.path(m[h].join(""),!1).attr({fill:"none",stroke:a.settings.series[h].color||k[h],"stroke-width":2,style:"stroke-dasharray: 3000,3000","marker-start":"url(#marker-"+h+")","marker-mid":"url(#marker-"+h+")","marker-end":"url(#marker-"+h+")"}).appendTo(c)}h=0;for(f=a.settings.series.length;h<f;h++)for(g=0,e=a.settings.series[h].data.length;g<e;g++)switch(p=a.settings.paddingLeft+a.settings.blockWidth*g+a.settings.blockWidth/2,r=this.getY(b,a.settings.series[h].data[g].value),a.settings.plugin){case "canvas":a.handle.attr({fillStyle:"#FFFFFF",
strokeStyle:a.settings.series[h].color||k[h],lineWidth:2}).begin().circle(p,r,4).close().fill().stroke();break;default:a.handle.circle(p,r,4,!1).attr({fill:"#FFFFFF",stroke:a.settings.series[h].color||k[h],"stroke-width":2}).appendTo(c)}},symbol:function(b,a,f,e){b=this._getInst(b);if(!b)return!1;switch(b.settings.plugin){case "canvas":break;default:switch(a){case "":break;case "":break;case "":break;default:b.handle.circle(!1).attr({}).appendTo(e)}}},_mouseenter:function(b,a,f){b=this._getInst(b);
if(!b)return!1;b.settings.tooltip&&"svg"===b.settings.plugin&&(this.tooltip[b.uid].txt.firstChild.firstChild.nodeValue=f.getAttributeNS("zui","tooltip"),f=this.tooltip[b.uid].txt.getBBox(),this.tooltip[b.uid].rect.setAttributeNS(null,"width",Number(f.width)+10),this.tooltip[b.uid].rect.setAttributeNS(null,"height",Number(f.height)+10),this.tooltip[b.uid].g1.setAttributeNS(null,"visibility","visible"))},_mouseleave:function(b,a,f){b=this._getInst(b);if(!b)return!1;b.settings.tooltip&&"svg"===b.settings.plugin&&
this.tooltip[b.uid].g1.setAttributeNS(null,"visibility","hidden")},_mousemove:function(b,a,f){b=this._getInst(b);if(!b)return!1;if(b.settings.tooltip&&"svg"===b.settings.plugin){f=a.offsetX;a=a.offsetY;var e=parseInt(this.tooltip[b.uid].rect.getAttributeNS(null,"width"),10),c=parseInt(this.tooltip[b.uid].rect.getAttributeNS(null,"height"),10);a+c+b.settings.tooltip.offset.y>b.settings.height&&(a-=c+b.settings.tooltip.offset.y);f+e+b.settings.tooltip.offset.x>b.settings.width&&(f-=e+b.settings.tooltip.offset.x);
this.tooltip[b.uid].g1.setAttributeNS(null,"transform",["translate(",f,",",a,")"].join(""))}},_tooltip:function(b){b=this._getInst(b);if(!b)return!1;b.settings.tooltip&&"svg"===b.settings.plugin&&(this.tooltip[b.uid].g1=b.handle.g().attr({"class":"zui-chart-tooltip",visibility:"hidden",transform:"translate(0,0)"}).getShape(),this.tooltip[b.uid].rect=b.handle.rect(b.settings.tooltip.offset.x,b.settings.tooltip.offset.y,0,0,100,22,!1).attr({fill:b.settings.tooltip.fill,opacity:b.settings.tooltip.opacity}).appendTo(this.tooltip[b.uid].g1).getShape(),
this.tooltip[b.uid].txt=b.handle.factory("text",!1).attr({x:20,y:20,fill:b.settings.tooltip.color,"font-family":b.settings.fontFamily,"font-size":b.settings.fontSize,"text-anchor":"start"}).appendTo(this.tooltip[b.uid].g1).getShape(),this.tooltip[b.uid].span=b.handle.factory("tspan",!1).attr({"alignment-baseline":"text-before-edge"}).appendTo(this.tooltip[b.uid].txt).getShape(),b.handle.textNode("",!1).appendTo(this.tooltip[b.uid].span))},_newInst:function(b){return{id:b[0].id.replace(/([^A-Za-z0-9_-])/g,
"\\\\$1"),input:b,uid:Math.floor(99999999*Math.random()),isDisabled:!1,settings:{}}},_getInst:function(b){try{return t.data(b,"chart")}catch(a){throw"Missing instance data for this chart";}}};t.fn.zinoChart=function(b){var a=Array.prototype.slice.call(arguments,1);return"string"==typeof b&&"isDisabled"==b||"option"==b&&2==arguments.length&&"string"==typeof arguments[1]?t.zinoChart["_"+b+"Chart"].apply(t.zinoChart,[this[0]].concat(a)):this.each(function(){"string"==typeof b?t.zinoChart["_"+b+"Chart"].apply(t.zinoChart,
[this].concat(a)):t.zinoChart._attachChart(this,b)})};t.zinoChart=new w;t.zinoChart.version="1.5"})(jQuery);