!function(o){"use strict";var t="tabs",u=!1;function e(){this._state=[],this._defaults={event:"click",disabled:[],selected:0,enable:null,disable:null,add:null,remove:null,show:null,load:null,select:null,create:null}}e.prototype={_attachTabs:function(i,e){if(this._getInst(i))return u;var n,l,d=o(i),r=this,b=r._newInst(d),e=(o.extend(b.settings,r._defaults,e),d.addClass("zui-tabs-holder").children().not("ul").addClass("zui-tabs-box").attr({role:"tabpanel","aria-hidden":"true"}).end().on("keydown.tabs",".zui-tabs-link",function(e){switch(e.stopPropagation(),e.charCode||e.keyCode||0){case 37:case 38:e.preventDefault();var t=(a=o(e.target).closest("ul").find(".zui-tabs-link")).length;0===(s=a.index(e.target))?s=t-1:--s,r._selectTabs.call(r,i,s);break;case 39:case 40:e.preventDefault();var a,s,t=(a=o(e.target).closest("ul").find(".zui-tabs-link")).length;(s=a.index(e.target))===t-1?s=0:s+=1,r._selectTabs.call(r,i,s)}return!0}),d.bind("tabsenable",function(e,t){null!==b.settings.enable&&b.settings.enable.call(i,e,t)}).bind("tabsdisable",function(e,t){null!==b.settings.disable&&b.settings.disable.call(i,e,t)}).bind("tabsadd",function(e,t){null!==b.settings.add&&b.settings.add.call(i,e,t)}).bind("tabsremove",function(e,t){null!==b.settings.remove&&b.settings.remove.call(i,e,t)}).bind("tabsload",function(e,t){null!==b.settings.load&&b.settings.load.call(i,e,t)}).bind("tabsselect",function(e,t){null!==b.settings.select&&b.settings.select.call(i,e,t)}).bind("tabscreate",function(e,t){null!==b.settings.create&&b.settings.create.call(i,e,t)}),d.find("ul").eq(0));0<e.length&&(e.attr("role","tablist").addClass("zui-tabs-header").find("li").attr({role:"tab","aria-controls":"","aria-selected":"false",tabindex:"-1"}).addClass("zui-tabs-link").eq(b.settings.selected).addClass("zui-tabs-focus"),l=1,e.find("a").each(function(e,t){var t=o(t),a=t.attr("href"),s=["zui-tabs-",b.uid,"-",e].join("");t.attr({role:"presentation",tabindex:"-1",id:s}),t.closest("li").attr("aria-labelledby",s),e==b.settings.selected&&t.closest("li").attr({tabindex:"0","aria-selected":"true"}),0!==a.indexOf("#")?(n=a,a="#zui-tabs-"+l,t.data("href",n).attr("href",a),o("<div>",{id:a.slice(1),role:"tabpanel","aria-labelledby":s}).addClass("zui-tabs-box").appendTo(d),l+=1):d.children(".zui-tabs-box").filter(a).attr("aria-labelledby",s),t.closest("li").attr("aria-controls",a.slice(1))}),d.find(".zui-tabs-box").hide().attr({"aria-hidden":"true","aria-expanded":"false"}),e.on("click.tabs","a",function(e){e&&e.preventDefault&&e.preventDefault();e=o("li",d).index(o(this).parent().get(0));return r._selectTabs.call(r,i,e),!1}),o.data(i,t,b),d.trigger("tabscreate",{}),0===e.find("a").eq(b.settings.selected).attr("href").indexOf("#"))&&r._selectTabs.call(r,i,b.settings.selected),o.data(i,t,b)},_destroyTabs:function(e){if(!this._getInst(e))return u;o(e).unbind("tabsenable").unbind("tabsdisable").unbind("tabsadd").unbind("tabsremove").unbind("tabsshow").unbind("tabsload").unbind("tabsselect").unbind("tabscreate").removeClass("zui-tabs-holder").find(".zui-tabs-header").removeClass("zui-tabs-header").children("li").removeClass("zui-tabs-link").removeClass("zui-tabs-focus").end().end().children("div").removeClass("zui-tabs-box").show(),o.data(e,t,u)},_enableTabs:function(e,t){if(!this._getInst(e))return u;var e=o(e),a=e.find(".zui-tabs-header").eq(0).children("li").eq(t);a.removeClass("zui-tabs-disabled"),e.trigger("tabsenable",{index:t,tab:a})},_disableTabs:function(e,t){if(!this._getInst(e))return u;var e=o(e),a=e.find(".zui-tabs-header").eq(0).children("li").eq(t);a.addClass("zui-tabs-disabled"),e.trigger("tabsdisable",{index:t,tab:a})},_addTabs:function(e){if(!this._getInst(e))return u;o(e).trigger("tabsads",{})},_removeTabs:function(e,t){if(!this._getInst(e))return u;var a=o(e),s=a.find(".zui-tabs-header").eq(0);a.find(".zui-tabs-header").eq(0).children("li").eq(t).remove().end().end().end().end().find(".zui-tabs-box").eq(t).remove().trigger("tabsremove",{index:t}),0===s.children(".zui-tabs-focus").length&&this._selectTabs.call(this,e,0)},_selectTabs:function(e,t){var a,s,i;return!this._getInst(e)||(i=(e=(s=o(e)).find(".zui-tabs-header").find("a").eq(t)).attr("href"),e.parent().hasClass("zui-tabs-disabled"))?u:(e.parent().addClass("zui-tabs-focus").attr({tabindex:"0","aria-selected":"true"}).focus().siblings("li").attr({tabindex:"-1","aria-selected":"false"}).removeClass("zui-tabs-focus"),0===i.indexOf("#")&&((a=o(i)).siblings("div:visible").hide().end().show(),void 0!==(i=e.data("href")))&&a.load(i,function(e){a.html(e.replace(/\n/g,"<br>")),s.trigger("tabsload",{index:t})}),s.find(".zui-tabs-box").attr({"aria-hidden":"true","aria-expanded":"false"}).hide().eq(t).attr({"aria-hidden":"false","aria-expanded":"true"}).show(),void s.trigger("tabsselect",{index:t}))},_newInst:function(e){return{id:e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:e,uid:Math.floor(99999999*Math.random()),isOpen:u,isDisabled:u,settings:{}}},_getInst:function(e){try{return o.data(e,t)}catch(e){throw"Missing instance data for this tab"}}},o.fn.zinoTabs=function(e){var t=Array.prototype.slice.call(arguments,1);return"string"==typeof e&&"isDisabled"===e||"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?o.zinoTabs["_"+e+"Tabs"].apply(o.zinoTabs,[this[0]].concat(t)):this.each(function(){"string"==typeof e?o.zinoTabs["_"+e+"Tabs"].apply(o.zinoTabs,[this].concat(t)):o.zinoTabs._attachTabs(this,e)})},o.zinoTabs=new e,o.zinoTabs.version="1.5"}(jQuery);