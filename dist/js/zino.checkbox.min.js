!function(d){"use strict";var k="checkbox";function e(){this._defaults={data:[],name:null,inline:!1,toggle:null,focus:null,blur:null,create:null}}e.prototype={_attachCheckbox:function(n,e){if(this._getInst(n))return!1;var t,c,o,i,a,s,h,l=d(n),r=this,u=r._newInst(l);for(d.extend(u.settings,r._defaults,e),l.find("input:checkbox").each(function(){h=d(this).hide(),0<(s=h.parentsUntil(n,"label")).length?s.hide():s=l.find("label[for="+h.attr("id")+"]").hide(),u.settings.data.unshift({label:d.trim(s.text()),value:this.value,checked:this.checked}),u.settings.name=this.name,this.name=""}),t=d("<ul>").attr({class:"zui-checkbox"+(u.settings.inline?" zui-checkbox-inline":"")}).appendTo(l),c=0,o=u.settings.data.length;c<o;c++)i=["zui-checkbox-",u.uid,"-",c].join(""),a=void 0!==u.settings.data[c].checked&&!0===u.settings.data[c].checked,d("<li>").attr({role:"checkbox","aria-checked":a?"true":"false",tabindex:0,class:a?"zui-checkbox-checked":"zui-checkbox-unchecked","data-id":i}).text(u.settings.data[c].label).appendTo(t),d("<input>").attr({type:"checkbox",name:u.settings.data[c].name||u.settings.name,value:u.settings.data[c].value,style:"display:none",id:i}).prop("checked",a).appendTo(l);l.on("click.checkbox","li",function(e){return!!(e.ctrlKey||e.altKey||e.shiftKey)||(r._toggleCheckbox.call(r,n,d(this).index()),e.stopPropagation(),!1)}).on("keypress.checkbox","li",function(e){return!!(e.altKey||e.shiftKey||e.ctrlKey)||32!==(e.charCode||e.keyCode||0)||(e.stopPropagation(),!1)}).on("keydown.checkbox","li",function(e){var t,c;return!!(e.altKey||e.shiftKey||e.ctrlKey)||(t=e.charCode||e.keyCode||0,c=d(this),32!==t)||(r._toggleCheckbox.call(r,n,c.index()),e.stopPropagation(),!1)}).on("focus.checkbox","li",function(e){var t=d(this);return t.addClass("zui-checkbox-focus"),t.removeClass("zui-checkbox-hover"),!0}).on("blur.checkbox","li",function(e){return d(this).removeClass("zui-checkbox-focus"),!0}).on("mouseover.checkbox","li",function(e){var t=d(this);return t.not(".zui-checkbox-focus")&&t.addClass("zui-checkbox-hover"),e.stopPropagation(),!1}).on("mouseout.checkbox","li",function(e){return d(this).removeClass("zui-checkbox-hover"),e.stopPropagation(),!1}).bind("checkboxcreate",function(e,t){null!==u.settings.create&&u.settings.create.call(n,e,t)}).bind("checkboxtoggle",function(e,t){null!==u.settings.toggle&&u.settings.toggle.call(n,e,t)}).bind("checkboxfocus",function(e,t){null!==u.settings.focus&&u.settings.focus.call(n,e,t)}).bind("checkboxblur",function(e,t){null!==u.settings.blur&&u.settings.blur.call(n,e,t)}),l.trigger("checkboxcreate",{}),d.data(n,k,u)},_toggleCheckbox:function(e,t){if(!this._getInst(e))return!1;var e=d(e),c=e.find("li").eq(t);e.find("li").removeClass("zui-checkbox-focus"),"true"===c.attr("aria-checked")?(c.attr({"aria-checked":"false"}).removeClass("zui-checkbox-checked").addClass("zui-checkbox-unchecked").addClass("zui-checkbox-focus"),e.find("input#"+c.data("id")).prop("checked",!1)):(c.attr({"aria-checked":"true"}).removeClass("zui-checkbox-unchecked").addClass("zui-checkbox-checked").addClass("zui-checkbox-focus"),e.find("input#"+c.data("id")).prop("checked",!0)),e.trigger("checkboxtoggle",{index:t})},_destroyCheckbox:function(e){var t=this._getInst(e),c=d(e);if(!t)return!1;c.removeClass("zui-checkbox").off(".checkbox").unbind("checkboxcreate").unbind("checkboxtoggle").unbind("checkboxfocus").unbind("checkboxblur").children().remove(),d.data(e,k,!1)},_newInst:function(e){return{id:e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:e,uid:Math.floor(99999999*Math.random()),isDisabled:!1,settings:{}}},_getInst:function(e){try{return d.data(e,k)}catch(e){throw"Missing instance data for this checkbox"}}},d.fn.zinoCheckbox=function(e){var t=Array.prototype.slice.call(arguments,1);return"string"==typeof e&&"isDisabled"===e||"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?d.zinoCheckbox["_"+e+"Checkbox"].apply(d.zinoCheckbox,[this[0]].concat(t)):this.each(function(){"string"==typeof e?d.zinoCheckbox["_"+e+"Checkbox"].apply(d.zinoCheckbox,[this].concat(t)):d.zinoCheckbox._attachCheckbox(this,e)})},d.zinoCheckbox=new e,d.zinoCheckbox.version="1.5"}(jQuery);