(function(b,r){function l(){this._defaults={data:[],name:null,inline:!1,toggle:null,focus:null,blur:null,create:null}}l.prototype={_attachCheckbox:function(c,f){if(this._getInst(c))return!1;var g,e,l,p,n,m,q,h=b(c),k=this,d=k._newInst(h);b.extend(d.settings,k._defaults,f);h.find("input:checkbox").each(function(){q=b(this).hide();m=q.parentsUntil(c,"label");0<m.length?m.hide():m=h.find("label[for="+q.attr("id")+"]").hide();d.settings.data.unshift({label:b.trim(m.text()),value:this.value,checked:this.checked});
d.settings.name=this.name;this.name=""});g=b("<ul>").attr({"class":"zui-checkbox"+(d.settings.inline?" zui-checkbox-inline":"")}).appendTo(h);e=0;for(l=d.settings.data.length;e<l;e++)p=["zui-checkbox-",d.uid,"-",e].join(""),n=d.settings.data[e].checked!==r&&!0===d.settings.data[e].checked,b("<li>").attr({role:"checkbox","aria-checked":n?"true":"false",tabindex:0,"class":n?"zui-checkbox-checked":"zui-checkbox-unchecked","data-id":p}).text(d.settings.data[e].label).appendTo(g),b("<input>").attr({type:"checkbox",
name:d.settings.data[e].name||d.settings.name,value:d.settings.data[e].value,style:"display:none",id:p}).prop("checked",n).appendTo(h);h.on("click.checkbox","li",function(a){if(a.ctrlKey||a.altKey||a.shiftKey)return!0;k._toggleCheckbox.call(k,c,b(this).index());a.stopPropagation();return!1}).on("keypress.checkbox","li",function(a){if(a.altKey||a.shiftKey||a.ctrlKey)return!0;switch(a.charCode?a.charCode:a.keyCode?a.keyCode:0){case 32:return a.stopPropagation(),!1}return!0}).on("keydown.checkbox","li",
function(a){if(a.altKey||a.shiftKey||a.ctrlKey)return!0;var d=a.charCode?a.charCode:a.keyCode?a.keyCode:0,e=b(this);switch(d){case 32:return k._toggleCheckbox.call(k,c,e.index()),a.stopPropagation(),!1}return!0}).on("focus.checkbox","li",function(a){a=b(this);a.addClass("zui-checkbox-focus");a.removeClass("zui-checkbox-hover");return!0}).on("blur.checkbox","li",function(a){b(this).removeClass("zui-checkbox-focus");return!0}).on("mouseover.checkbox","li",function(a){var c=b(this);c.not(".zui-checkbox-focus")&&
c.addClass("zui-checkbox-hover");a.stopPropagation();return!1}).on("mouseout.checkbox","li",function(a){b(this).removeClass("zui-checkbox-hover");a.stopPropagation();return!1}).bind("checkboxcreate",function(a,b){null!==d.settings.create&&d.settings.create.call(c,a,b)}).bind("checkboxtoggle",function(a,b){null!==d.settings.toggle&&d.settings.toggle.call(c,a,b)}).bind("checkboxfocus",function(a,b){null!==d.settings.focus&&d.settings.focus.call(c,a,b)}).bind("checkboxblur",function(a,b){null!==d.settings.blur&&
d.settings.blur.call(c,a,b)});h.trigger("checkboxcreate",{});b.data(c,"checkbox",d)},_toggleCheckbox:function(c,f){if(!this._getInst(c))return!1;var g=b(c),e=g.find("li").eq(f);g.find("li").removeClass("zui-checkbox-focus");"true"===e.attr("aria-checked")?(e.attr({"aria-checked":"false"}).removeClass("zui-checkbox-checked").addClass("zui-checkbox-unchecked").addClass("zui-checkbox-focus"),g.find("input#"+e.data("id")).prop("checked",!1)):(e.attr({"aria-checked":"true"}).removeClass("zui-checkbox-unchecked").addClass("zui-checkbox-checked").addClass("zui-checkbox-focus"),
g.find("input#"+e.data("id")).prop("checked",!0));g.trigger("checkboxtoggle",{index:f})},_destroyCheckbox:function(c){var f=this._getInst(c),g=b(c);if(!f)return!1;g.removeClass("zui-checkbox").off(".checkbox").unbind("checkboxcreate").unbind("checkboxtoggle").unbind("checkboxfocus").unbind("checkboxblur").children().remove();b.data(c,"checkbox",!1)},_newInst:function(b){return{id:b[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:b,uid:Math.floor(99999999*Math.random()),isDisabled:!1,settings:{}}},
_getInst:function(c){try{return b.data(c,"checkbox")}catch(f){throw"Missing instance data for this checkbox";}}};b.fn.zinoCheckbox=function(c){var f=Array.prototype.slice.call(arguments,1);return"string"==typeof c&&"isDisabled"==c||"option"==c&&2==arguments.length&&"string"==typeof arguments[1]?b.zinoCheckbox["_"+c+"Checkbox"].apply(b.zinoCheckbox,[this[0]].concat(f)):this.each(function(){"string"==typeof c?b.zinoCheckbox["_"+c+"Checkbox"].apply(b.zinoCheckbox,[this].concat(f)):b.zinoCheckbox._attachCheckbox(this,
c)})};b.zinoCheckbox=new l;b.zinoCheckbox.version="1.5"})(jQuery);
