(function(b,r){function l(){this._defaults={data:[],name:"radio",inline:!1,select:null,focus:null,blur:null,create:null};this.check=!0}l.prototype={_attachRadiogroup:function(d,e){if(this._getInst(d))return!1;var h,f,l,p,m,n,q,g=b(d),k=this,c=k._newInst(g);b.extend(c.settings,k._defaults,e);g.find("input:radio").each(function(){q=b(this).hide();n=q.parentsUntil(d,"label");0<n.length?n.hide():n=g.find("label[for="+q.attr("id")+"]").hide();c.settings.data.unshift({label:b.trim(n.text()),value:this.value,
checked:this.checked});c.settings.name=this.name;this.name=""});h=b("<ul>").attr({role:"radiogroup","class":"zui-radiogroup"+(c.settings.inline?" zui-radiogroup-inline":"")}).appendTo(g);f=0;for(l=c.settings.data.length;f<l;f++)p=["zui-radio-",c.uid,"-",f].join(""),m=c.settings.data[f].checked!==r&&!0===c.settings.data[f].checked,b("<li>").attr({role:"radio","aria-checked":m?"true":"false",tabindex:m?0:-1,"class":m?"zui-radiogroup-checked":"zui-radiogroup-unchecked","data-id":p}).text(c.settings.data[f].label).appendTo(h),
b("<input>").attr({type:"radio",name:c.settings.name,value:c.settings.data[f].value,style:"display:none",id:p}).prop("checked",m).appendTo(g);g.on("click.radiogroup","li",function(a){if(a.ctrlKey||a.altKey||a.shiftKey)return!0;a.stopPropagation();return!1}).on("keypress.radiogroup","li",function(a){if(a.altKey)return!0;switch(a.charCode?a.charCode:a.keyCode?a.keyCode:0){case 13:case 32:if(a.shiftKey||a.ctrlKey)break;break;case 37:case 38:case 39:case 40:if(a.shiftKey)break;a.stopPropagation();return!1}return!0}).on("keydown.radiogroup",
"li",function(a){if(a.altKey)return!0;var c=a.charCode?a.charCode:a.keyCode?a.keyCode:0,e=b(this);switch(c){case 37:case 38:if(a.shiftKey)return!0;c=e.prev();0==e.index()&&(c=g.find("li").last());a.ctrlKey&&(k.check=!1);c[0].focus();a.stopPropagation();return!1;case 39:case 40:if(a.shiftKey)return!0;var c=e.next(),f=g.find("li");e.index()==f.length-1&&(c=f.first());a.ctrlKey&&(k.check=!1);c[0].focus();a.stopPropagation();return!1;case 13:case 32:if(a.ctrlkey||a.shiftKey)return!0;e=e.index();k._selectRadiogroup.call(k,
d,e);a.stopPropagation();return!1}}).on("focus.radiogroup","li",function(a){k._selectRadiogroup.call(k,d,b(this).index());g.trigger("radiogroupfocus",{});return!0}).on("blur.radiogroup","li",function(a){b(this).removeClass("zui-radiogroup-selected");g.trigger("radiogroupblur",{});return!0}).bind("radiogroupcreate",function(a,b){null!==c.settings.create&&c.settings.create.call(d,a,b)}).bind("radiogroupselect",function(a,b){null!==c.settings.select&&c.settings.select.call(d,a,b)}).bind("radiogroupfocus",
function(a,b){null!==c.settings.focus&&c.settings.focus.call(d,a,b)}).bind("radiogroupblur",function(a,b){null!==c.settings.blur&&c.settings.blur.call(d,a,b)});g.trigger("radiogroupcreate",{});b.data(d,"radiogroup",c)},_selectRadiogroup:function(d,e){if(!this._getInst(d))return!1;var h=b(d),f=h.find("li").eq(e);!0===this.check&&(h.find("li").attr({"aria-checked":"false",tabindex:-1}).removeClass("zui-radiogroup-checked").addClass("zui-radiogroup-unchecked").eq(e).attr({"aria-checked":"true",tabindex:0}).removeClass("zui-radiogroup-unchecked").addClass("zui-radiogroup-checked"),
h.find("input#"+f.data("id")).prop("checked",!0));this.check=!0;f.addClass("zui-radiogroup-selected");h.trigger("radiogroupselect",{index:e})},_destroyRadiogroup:function(d){var e=this._getInst(d),h=b(d);if(!e)return!1;h.removeAttr("role").removeClass("zui-radiogroup").off(".radiogroup").unbind("radiogroupcreate").unbind("radiogroupselect").unbind("radiogroupfocus").unbind("radiogroupblur").children().remove();b.data(d,"radiogroup",!1)},_newInst:function(b){return{id:b[0].id.replace(/([^A-Za-z0-9_-])/g,
"\\\\$1"),input:b,uid:Math.floor(99999999*Math.random()),isDisabled:!1,settings:{}}},_getInst:function(d){try{return b.data(d,"radiogroup")}catch(e){throw"Missing instance data for this radiogroup";}}};b.fn.zinoRadiogroup=function(d){var e=Array.prototype.slice.call(arguments,1);return"string"==typeof d&&"isDisabled"==d||"option"==d&&2==arguments.length&&"string"==typeof arguments[1]?b.zinoRadiogroup["_"+d+"Radiogroup"].apply(b.zinoRadiogroup,[this[0]].concat(e)):this.each(function(){"string"==typeof d?
b.zinoRadiogroup["_"+d+"Radiogroup"].apply(b.zinoRadiogroup,[this].concat(e)):b.zinoRadiogroup._attachRadiogroup(this,d)})};b.zinoRadiogroup=new l;b.zinoRadiogroup.version="1.5"})(jQuery);
