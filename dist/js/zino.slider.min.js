!function(h,c){"use strict";var f="slider",p=!1;function t(){this._defaults={range:!1,bounds:[0,100],vertical:!1,height:320,width:320,minValue:0,maxValue:100},this._events={slide:null,start:null,stop:null,enable:null,disable:null},this.keys={backspace:8,tab:9,enter:13,escape:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40}}t.prototype={_attachSlider:function(s,t){if(this._getInst(s))return p;var e,i,a,n,l,d=h(s),r=this,o=r._newInst(d),u=(h.extend(o.settings,r._defaults,r._events,t),o.settings.offset=8/o.settings.width*100,o.settings.range&&(e=h("<a>",{href:"#",role:"slider","aria-valuemax":o.settings.maxValue,"aria-valuemin":o.settings.minValue,"aria-valuenow":o.settings.bounds[0],"aria-valuetext":o.settings.bounds[0],"aria-invalid":"false"}).addClass("zui-slider-handle")),t=h("<a>",{href:"#",role:"slider","aria-valuemax":o.settings.maxValue,"aria-valuemin":o.settings.minValue,"aria-valuenow":o.settings.bounds[1],"aria-valuetext":o.settings.bounds[1],"aria-invalid":"false"}).addClass("zui-slider-handle"),d.addClass("zui-slider"),h("<div>").addClass("zui-slider-range"));o.settings.vertical?(d.css({height:o.settings.height+"px"}).addClass("zui-slider-vertical"),i=l=0,o.settings.range&&(i=Math.ceil(o.settings.bounds[0]/o.settings.maxValue*100),e.addClass("zui-slider-up").css({top:i+"%"}),o.data.upY=o.settings.bounds[0],l=1),a=Math.ceil(o.settings.bounds[l]/o.settings.maxValue*100),t.addClass("zui-slider-down").css({top:a+"%"}),o.data.downY=o.settings.bounds[l],u.css({top:i+"%",height:a-i+"%"})):(d.css({width:o.settings.width+"px"}),a=l=0,o.settings.range&&(a=Math.ceil(o.settings.bounds[0]/o.settings.maxValue*100),e.addClass("zui-slider-left").css({left:Math.ceil(o.settings.bounds[0]/o.settings.maxValue*100-o.settings.offset)+"%"}),o.data.leftX=o.settings.bounds[0],l=1),i=Math.ceil(o.settings.bounds[l]/o.settings.maxValue*100),t.addClass("zui-slider-right").css({left:Math.ceil(o.settings.bounds[l]/o.settings.maxValue*100-o.settings.offset)+"%"}),o.data.rightX=o.settings.bounds[l],u.css({left:a+"%",width:i-a+"%"})),u.appendTo(s),h("<div>").addClass("zui-slider-scale").appendTo(s),o.settings.range&&e.appendTo(s),t.appendTo(s),l=o.settings.vertical?(n=[0,-8],[0,o.settings.height-8]):(n=[-8,0],[o.settings.width-8,0]),h(".zui-slider-handle",d).zinoDraggable({lowerBound:n,upperBound:l,start:function(t,e){o.data.sliding=!0;var e=e.handle,s=h(e);s.hasClass("zui-slider-left")?(o.data.key="leftX",o.data.opp="rightX"):s.hasClass("zui-slider-right")?(o.data.key="rightX",o.data.opp="leftX"):s.hasClass("zui-slider-up")?(o.data.key="upY",o.data.opp="downY"):s.hasClass("zui-slider-down")&&(o.data.key="downY",o.data.opp="upY"),d.trigger("sliderstart",{}),h(e).addClass("zui-slider-handle-active")},drag:function(t,e){r._handlePosition.call(r,t,s,e.handle)},end:function(t,e){r._handleStop.call(r,t,e.handle),o.data.sliding=!1,h(s).trigger("sliderstop",{}),h.data(s,f,o)},attachLater:!1}).bind("focus.slider",function(t){h(this).addClass("zui-slider-handle-focus")}).bind("blur.slider",function(t){h(this).removeClass("zui-slider-handle-focus")}).bind("keydown.slider",function(t){}).bind("keypress.slider",function(t){if(!(t.ctrlKey||t.shiftKey||t.altKey))switch(t.keyCode){case r.keys.home:case r.keys.pageup:case r.keys.end:case r.keys.pagedown:case r.keys.left:case r.keys.up:case r.keys.right:case r.keys.down:return t.stopPropagation(),!1}return!0}),d.on("click.slider",".zui-slider-handle",function(t){return t&&t.preventDefault&&t.preventDefault(),!1}).bind("sliderstart",function(t,e){null!==o.settings.start&&o.settings.start.call(s,t,e)}).bind("sliderslide",function(t,e){null!==o.settings.slide&&o.settings.slide.call(s,t,e)}).bind("sliderstop",function(t,e){null!==o.settings.stop&&o.settings.stop.call(s,t,e)}).bind("sliderenable",function(t,e){null!==o.settings.enable&&o.settings.enable.call(s,t,e)}).bind("sliderdisable",function(t,e){null!==o.settings.disable&&o.settings.disable.call(s,t,e)}).on("click.slider",s,function(t){}),h.data(s,f,o)},_destroySlider:function(t){if(!this._getInst(t))return p;h(t).removeClass("zui-slider").find(".zui-slider-range").remove().end().find(".zui-slider-scale").remove().end().find(".zui-slider-handle").remove().end().removeAttr("aria-disabled").removeClass("zui-slider-disabled").off(".slider").undelegate(".slider").unbind(".slider"),h.data(t,f,p)},_enableSlider:function(t){if(!this._getInst(t))return p;h(t).attr("aria-disabled","false").removeClass("zui-slider-disabled").trigger("sliderenable",{})},_disableSlider:function(t){if(!this._getInst(t))return p;h(t).attr("aria-disabled","true").addClass("zui-slider-disabled").trigger("sliderdisable",{})},_valueSlider:function(t){var e=this._getInst(t);if(!e)return p;h.data(t,f,e)},_valuesSlider:function(t){var e=this._getInst(t);if(!e)return p;e.settings.vertical,h.data(t,f,e)},_handlePosition:function(t,e,s){var i,a,n,l,d,r,o,u,g=this._getInst(e);return g?(d=g.data.key,r=g.data.opp,o=h(e),u=(s=h(s)).siblings(".zui-slider-range"),!0===g.data.sliding&&(a={x:h(t.target).offset().left,y:h(t.target).offset().top},o=o.offset(),r=g.data[r],g.settings.vertical?(l=(i=(i=(i=Math.abs(a.y-o.top-4))<0?0:i)>g.settings.height?g.settings.height:i)/g.settings.height*100,i=Math.ceil(i/g.settings.height*100),i=Math.ceil(i*g.settings.maxValue/100),(l=Math.ceil(l-g.settings.offset))<0-g.settings.offset&&(l=0-g.settings.offset),a.y>=o.top&&(r===c||"upY"===d&&i<=r||"downY"===d&&r<=i)&&(g.data[d]=i,s.css({top:l+"%"}),u.css({top:g.data.upY/g.settings.maxValue*100+"%",height:g.data.downY/g.settings.maxValue*100-g.data.upY/g.settings.maxValue*100+"%"}))):(n=(l=(l=(l=Math.abs(a.x-o.left-4))<0?0:l)>g.settings.width?g.settings.width:l)/g.settings.width*100,l=Math.ceil(l/g.settings.width*100),i=Math.ceil(l*g.settings.maxValue/100),(l=Math.ceil(n-g.settings.offset))<0-g.settings.offset&&(l=0-g.settings.offset),a.x>=o.left&&(r===c||"leftX"===d&&i<=r||"rightX"===d&&r<=i)&&(g.data[d]=i,s.css({left:l+"%"}),u.css({left:g.data.leftX/g.settings.maxValue*100+"%",width:g.data.rightX/g.settings.maxValue*100-g.data.leftX/g.settings.maxValue*100+"%"})))),h(e).trigger("sliderslide",{data:g.data}),h.data(e,f,g),t&&t.stopPropagation&&t.stopPropagation(),!1):p},_handleStop:function(t,e){return h(e).removeClass("zui-slider-handle-active"),h(document).off(".slider"),t&&t.stopPropagation&&t.stopPropagation(),!1},_newInst:function(t){return{id:t[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:t,uid:Math.floor(99999999*Math.random()),isOpen:p,isDisabled:p,settings:{},data:{sliding:!1,key:null,opp:null,leftX:null,rightX:null,upY:null,downY:null}}},_getInst:function(t){try{return h.data(t,f)}catch(t){throw"Missing instance data for this slider"}}},h.fn.zinoSlider=function(t){var e=Array.prototype.slice.call(arguments,1);return"string"==typeof t&&"isDisabled"===t||"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?h.zinoSlider["_"+t+"Slider"].apply(h.zinoSlider,[this[0]].concat(e)):this.each(function(){"string"==typeof t?h.zinoSlider["_"+t+"Slider"].apply(h.zinoSlider,[this].concat(e)):h.zinoSlider._attachSlider(this,t)})},h.zinoSlider=new t,h.zinoSlider.version="1.5.1"}(jQuery);