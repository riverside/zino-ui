!function(p){"use strict";var z="resizable",u=!1;function t(){this._defaults={maxWidth:null,maxHeight:null,minWidth:10,minHeight:10,resize:null,start:null,end:null},this._internal={direction:null,opts:null,listening:!1,resizing:!1,disposed:!1,x:0,y:0}}t.prototype={_attachResizable:function(i,t){if(this._getInst(i))return u;var e=p(i),s=e.parent(),n=p(document),a=this._newInst(e);p.extend(a.settings,this._defaults,t),a.internal.opts={parentWidth:0<s.length?s.outerWidth():n.width(),parentHeight:0<s.length?s.outerHeight():n.height(),parentTop:0<s.length?s.offset().top:0,parentLeft:0<s.length?s.offset().left:0},e.addClass("zui-resizable").bind("resizablestart",function(t,e){null!==a.settings.start&&a.settings.start.call(i,t,e)}).bind("resizableresize",function(t,e){null!==a.settings.resize&&a.settings.resize.call(i,t,e)}).bind("resizableend",function(t,e){null!==a.settings.end&&a.settings.end.call(i,t,e)}),p("<div>").addClass("zui-resizable-handle zui-resizable-n").appendTo(e),p("<div>").addClass("zui-resizable-handle zui-resizable-s").appendTo(e),p("<div>").addClass("zui-resizable-handle zui-resizable-e").appendTo(e),p("<div>").addClass("zui-resizable-handle zui-resizable-w").appendTo(e),p("<div>").addClass("zui-resizable-handle zui-resizable-ne").appendTo(e),p("<div>").addClass("zui-resizable-handle zui-resizable-nw").appendTo(e),p("<div>").addClass("zui-resizable-handle zui-resizable-se").appendTo(e),p("<div>").addClass("zui-resizable-handle zui-resizable-sw").appendTo(e),p.data(i,z,a),this._startListening.call(this,i)},_resizeStart:function(e,t){var i,s,n,a=this._getInst(e);return a?(s=p(t.target),n=this,a.internal.resizing||!a.internal.listening||a.internal.disposed?void 0:(a.internal.resizing=!0,s.hasClass("zui-resizable-n")?i="n":s.hasClass("zui-resizable-e")?i="e":s.hasClass("zui-resizable-s")?i="s":s.hasClass("zui-resizable-w")?i="w":s.hasClass("zui-resizable-ne")?i="ne":s.hasClass("zui-resizable-nw")?i="nw":s.hasClass("zui-resizable-se")?i="se":s.hasClass("zui-resizable-sw")&&(i="sw"),a.internal.direction=i,p(e).trigger("resizablestart",{}),p(document).bind("mousemove.resizable",function(t){n._resizeGo.call(n,e,t)}),p(document).bind("mouseup.resizable",function(t){n._resizeStopHook.call(n,e,t,this)}),p.data(e,z,a),t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),!1)):u},_resizeGo:function(t,e){var i=this._getInst(t);if(!i)return u;var s=p(t);if(i.internal.resizing&&!i.internal.disposed){var n,a,r,l,o=zino.Position.getCursor(e),h=s.offset(),d=o.X-h.left,g=o.Y-h.top;switch(i.internal.direction){case"n":a=s.height()-g,l=s.position().top+g,(!i.settings.maxHeight||a<i.settings.maxHeight)&&a>i.settings.minHeight&&0<=l&&(s.css("height",a+"px"),s.css("top",l+"px"));break;case"s":g-=s.outerHeight(),a=s.height()+g,(!i.settings.maxHeight||a<i.settings.maxHeight)&&a>i.settings.minHeight&&h.top+a<=i.internal.opts.parentHeight+i.internal.opts.parentTop&&s.css("height",a+"px");break;case"e":d-=s.outerWidth(),n=s.width()+d,(!i.settings.maxWidth||n<i.settings.maxWidth)&&n>i.settings.minWidth&&h.left+n<=i.internal.opts.parentWidth+i.internal.opts.parentLeft&&s.css("width",n+"px");break;case"w":n=s.width()-d,r=s.position().left+d,(!i.settings.maxWidth||n<i.settings.maxWidth)&&n>i.settings.minWidth&&0<=r&&(s.css("left",r+"px"),s.css("width",n+"px"));break;case"ne":a=s.height()-g,l=s.position().top+g,(!i.settings.maxHeight||a<i.settings.maxHeight)&&a>i.settings.minHeight&&0<=l&&(s.css("height",a+"px"),s.css("top",l+"px")),d-=s.outerWidth(),n=s.width()+d,(!i.settings.maxWidth||n<i.settings.maxWidth)&&n>i.settings.minWidth&&n<=i.internal.opts.parentWidth&&h.left+n<=i.internal.opts.parentWidth+i.internal.opts.parentLeft&&s.css("width",n+"px");break;case"nw":a=s.height()-g,l=s.position().top+g,(!i.settings.maxHeight||a<i.settings.maxHeight)&&a>i.settings.minHeight&&0<=l&&(s.css("height",a+"px"),s.css("top",l+"px")),n=s.width()-d,r=s.position().left+d,(!i.settings.maxWidth||n<i.settings.maxWidth)&&n>i.settings.minWidth&&0<=r&&(s.css("width",n+"px"),s.css("left",r+"px"));break;case"se":g-=s.outerHeight(),a=s.height()+g,(!i.settings.maxHeight||a<i.settings.maxHeight)&&a>i.settings.minHeight&&h.top+a<=i.internal.opts.parentHeight+i.internal.opts.parentTop&&s.css("height",a+"px"),d-=s.outerWidth(),n=s.width()+d,(!i.settings.maxWidth||n<i.settings.maxWidth)&&n>i.settings.minWidth&&h.left+n<=i.internal.opts.parentWidth+i.internal.opts.parentLeft&&s.css("width",n+"px");break;case"sw":g-=s.outerHeight(),a=s.height()+g,(!i.settings.maxHeight||a<i.settings.maxHeight)&&a>i.settings.minHeight&&h.top+a<=i.internal.opts.parentHeight+i.internal.opts.parentTop&&s.css("height",a+"px"),n=s.width()-d,r=s.position().left+d,(!i.settings.maxWidth||n<i.settings.maxWidth)&&n>i.settings.minWidth&&0<=r&&(s.css("width",n+"px"),s.css("left",r+"px"))}return s.trigger("resizableresize",{}),p.data(t,z,i),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),!1}},_resizeStopHook:function(t,e){return this._getInst(t)?(this._resizeStop.call(this,t,e),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),!1):u},_resizeStop:function(e,t){var i=this._getInst(e);if(!i)return u;var s=this;i.internal.resizing&&!i.internal.disposed&&(p(document).unbind("mousemove.resizable",function(t){s._resizeGo.call(s,e,t)}),p(document).unbind("mouseup.resizable",function(t){s._resizeStopHook.call(s,e,t,this)}),p(e).trigger("resizableend",{}),i.internal.resizing=!1,p.data(e,z,i))},_destroyResizable:function(t){var e=this._getInst(t);if(!e)return u;e.internal.disposed||(p(t).removeClass("zui-resizable"),p(".zui-resizable-handle",t).remove(),this._stopListening.call(this,t,!0),p.data(t,z,null))},_disableResizable:function(t){var e=this._getInst(t);if(!e)return u;e.isDisabled||(e.isDisabled=!0,this._stopListening.call(this,t,!0),p.data(t,z,e))},_enableResizable:function(t){var e=this._getInst(t);if(!e)return u;e.isDisabled&&(e.isDisabled=u,this._startListening.call(this,t),p.data(t,z,e))},_startListening:function(e){var t=this._getInst(e);if(!t)return u;var i=this;t.internal.listening||t.internal.disposed||(t.internal.listening=!0,p(".zui-resizable-handle",e).bind("mousedown.resizable",function(t){i._resizeStart.call(i,e,t,this)}),p.data(e,z,t))},_stopListening:function(e,t){var i=this._getInst(e);if(!i)return u;var s=this;i.internal.listening&&!i.internal.disposed&&(p(".zui-resizable-handle",e).unbind("mousedown.resizable",function(t){s._resizeStart.call(s,e,t,this)}),i.internal.listening=!1,t&&i.internal.resizing&&s._resizeStop.call(s,e),p.data(e,z,i))},_isResizing:function(t){t=this._getInst(t);return t?t.internal.resizing:u},_isListening:function(t){t=this._getInst(t);return t?t.internal.listening:u},_isDisposed:function(t){t=this._getInst(t);return t?t.internal.disposed:u},_newInst:function(t){return{id:t[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:t,uid:Math.floor(99999999*Math.random()),isDisabled:u,settings:{},internal:{}}},_getInst:function(t){try{return p.data(t,z)}catch(t){throw"Missing instance data for this resizable"}}},p.fn.zinoResizable=function(t){var e=Array.prototype.slice.call(arguments,1);return"string"==typeof t&&"isDisabled"===t||"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?p.zinoResizable["_"+t+"Resizable"].apply(p.zinoResizable,[this[0]].concat(e)):this.each(function(){"string"==typeof t?p.zinoResizable["_"+t+"Resizable"].apply(p.zinoResizable,[this].concat(e)):p.zinoResizable._attachResizable(this,t)})},p.zinoResizable=new t,p.zinoResizable.version="1.5.1"}(jQuery);